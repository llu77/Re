# ๐ฅ ูุณุชุดุงุฑ ุงูุชุฃููู ุงูุฐูู โ# ๐ฅ ูุธุงู ุงุณุชุดุงุฑู ุงูุชุฃููู ุงูุจุตุฑู ุงูุฐูู โ Vision Rehab AI Consultant

## ุงูุฏููู ุงูุดุงูู: ูู ุงูุจููุฉ ุงูุณุฑูุฑูุฉ ุฅูู ุงูุชูููุฐ ุงูุชููู

> **ุงูุฅุตุฏุงุฑ:** 2.0 โ ุฅุนุงุฏุฉ ุจูุงุก ูุงููุฉ
> **ุงููููุฐุฌ:** Claude Sonnet 4.6 (`claude-sonnet-4-6`) ุนุจุฑ Anthropic Messages API
> **ุงูููุณูุฉ:** ุงูุณุฑูุฑู ุฃููุงู โ ุงูุชูููุฉ ุชุฎุฏู ุงููุญุชูู ูููุณ ุงูุนูุณ

-----

## ๐ ุงูููุฑุณ ุงูุฑุฆูุณู

### ุงูุฌุฒุก ุงูุฃูู: ุงูุฃุณุงุณ ุงูุณุฑูุฑู

1. [ุฑุคูุฉ ุงููุดุฑูุน ูุงูุจููุฉ ุงูุนุงูุฉ](#ุงููุตู-1-ุฑุคูุฉ-ุงููุดุฑูุน-ูุงูุจููุฉ-ุงูุนุงูุฉ)
1. [ูุธุงู ุงูุชูููู ุงููุธููู ุงูุดุงูู](#ุงููุตู-2-ูุธุงู-ุงูุชูููู-ุงููุธููู-ุงูุดุงูู)
1. [ุจุฑูุชููููุงุช ุงูุชุฃููู ุญุณุจ ุงูุชุดุฎูุต](#ุงููุตู-3-ุจุฑูุชููููุงุช-ุงูุชุฃููู-ุญุณุจ-ุงูุชุดุฎูุต)
1. [ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฃุฌูุฒุฉ ุงููุณุงุนุฏุฉ](#ุงููุตู-4-ูุงุนุฏุฉ-ุจูุงูุงุช-ุงูุฃุฌูุฒุฉ-ุงููุณุงุนุฏุฉ)
1. [ุชุฏุฑูุจุงุช ุงูุชุฃููู ุงูุจุตุฑู ุงูุฃุณุงุณูุฉ](#ุงููุตู-5-ุชุฏุฑูุจุงุช-ุงูุชุฃููู-ุงูุจุตุฑู-ุงูุฃุณุงุณูุฉ)
1. [ุงูุชุฃููู ุงูุนุตุจู ุงูุจุตุฑู](#ุงููุตู-6-ุงูุชุฃููู-ุงูุนุตุจู-ุงูุจุตุฑู)
1. [ุชุฃููู ุงูุฃุทูุงู](#ุงููุตู-7-ุชุฃููู-ุงูุฃุทูุงู)
1. [ุงูุฌุงูุจ ุงูููุณู ูุงูุชููู](#ุงููุตู-8-ุงูุฌุงูุจ-ุงูููุณู-ูุงูุชููู)
1. [ุงูุชูุฌู ูุงูุชููู ูููุงุฑุงุช ุงูุญูุงุฉ ุงูููููุฉ](#ุงููุตู-9-ุงูุชูุฌู-ูุงูุชููู-ูููุงุฑุงุช-ุงูุญูุงุฉ-ุงูููููุฉ)
1. [ุฎุตูุตูุงุช ุงููุฑุงุกุฉ ุงูุนุฑุจูุฉ](#ุงููุตู-10-ุฎุตูุตูุงุช-ุงููุฑุงุกุฉ-ุงูุนุฑุจูุฉ)

### ุงูุฌุฒุก ุงูุซุงูู: ุงูุจููุฉ ุงูุชูููุฉ

1. [System Prompt ุงููุชูุฏู](#ุงููุตู-11-system-prompt-ุงููุชูุฏู)
1. [Extended Thinking โ ุงูุชูููุฑ ุงูุณุฑูุฑู](#ุงููุตู-12-extended-thinking)
1. [Tool Use โ ููุธููุฉ ุงูุฃุฏูุงุช](#ุงููุตู-13-tool-use--ููุธููุฉ-ุงูุฃุฏูุงุช)
1. [PubMed ู ุงููุตุงุฏุฑ ุงูุนูููุฉ](#ุงููุตู-14-pubmed-ูุงููุตุงุฏุฑ-ุงูุนูููุฉ)
1. [Vision โ ุชุญููู ุงูุตูุฑ ุงูุทุจูุฉ](#ุงููุตู-15-vision--ุชุญููู-ุงูุตูุฑ-ุงูุทุจูุฉ)
1. [RAG โ ุจูุงุก ุงููุงุนุฏุฉ ุงููุนุฑููุฉ](#ุงููุตู-16-rag--ุจูุงุก-ุงููุงุนุฏุฉ-ุงููุนุฑููุฉ)
1. [Prompt Chaining โ ุณูุงุณู ุงูุนูู](#ุงููุตู-17-prompt-chaining--ุณูุงุณู-ุงูุนูู)

### ุงูุฌุฒุก ุงูุซุงูุซ: ุงูุชุดุบูู ูุงูุฌูุฏุฉ

1. [ุงูุชูุซูู ูุงูุชูุงุฑูุฑ](#ุงููุตู-18-ุงูุชูุซูู-ูุงูุชูุงุฑูุฑ)
1. [ูุธุงู ููุงุณ ุงููุชุงุฆุฌ ูุงููุชุงุจุนุฉ](#ุงููุตู-19-ูุธุงู-ููุงุณ-ุงููุชุงุฆุฌ)
1. [ุงููุฑูู ูุชุนุฏุฏ ุงูุชุฎุตุตุงุช ูุงูุฅุญุงูุฉ](#ุงููุตู-20-ุงููุฑูู-ูุชุนุฏุฏ-ุงูุชุฎุตุตุงุช)
1. [ุงูุฃูุงู ูุงูุฎุตูุตูุฉ](#ุงููุตู-21-ุงูุฃูุงู-ูุงูุฎุตูุตูุฉ)
1. [ุฎุงุฑุทุฉ ุงูุจูุงุก ูุงูุชุทููุฑ](#ุงููุตู-22-ุฎุงุฑุทุฉ-ุงูุจูุงุก-ูุงูุชุทููุฑ)

-----

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# ุงูุฌุฒุก ุงูุฃูู: ุงูุฃุณุงุณ ุงูุณุฑูุฑู

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

-----

## ุงููุตู 1: ุฑุคูุฉ ุงููุดุฑูุน ูุงูุจููุฉ ุงูุนุงูุฉ

### 1.1 ูุง ูุฐุง ุงููุธุงูุ

ูุธุงู ุฐูุงุก ุงุตุทูุงุนู ูุนูู ูู**ูุณุงุนุฏ ุงุณุชุดุงุฑู ุชุฃููู ุจุตุฑู** ูุฏูุฌ ุจูู:

- **ุงููุนุฑูุฉ ุงูุณุฑูุฑูุฉ ุงูุนูููุฉ** โ ุจุฑูุชููููุงุชุ ุชููููุงุชุ ุฎุทุท ุนูุงุฌูุฉ
- **ุงููุตูู ููุฃุจุญุงุซ ุงูุญุฏูุซุฉ** โ PubMedุ ุฅุฑุดุงุฏุงุช ุณุฑูุฑูุฉุ ูุฑุงุฌุนุงุช ูููุฌูุฉ
- **ุชุญููู ุงูุจูุงูุงุช ุงูุจุตุฑูุฉ** โ ุตูุฑ ูุญูุตุงุชุ ุชูุงุฑูุฑุ ููุงููุณ
- **ุงูุชูููุฑ ุงูุณุฑูุฑู ุงููุชูุฏู** โ ุงุณุชุฏูุงู ูุชุนุฏุฏ ุงูุฎุทูุงุช ูุฏุนูู ุจุงูุฃุฏูุฉ

### 1.2 ูู ูุณุชุฎุฏููุ

|ุงููุณุชุฎุฏู                 |ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู                               |
|-------------------------|----------------------------------------------|
|**ุฃุฎุตุงุฆู ุงูุชุฃููู ุงูุจุตุฑู**|ุจูุงุก ุฎุทุท ุนูุงุฌูุฉุ ุงูุจุญุซ ุนู ุฃุญุฏุซ ุงูุจุฑูุชููููุงุช   |
|**ุทุจูุจ ุงูุนููู**          |ููู ุฎูุงุฑุงุช ุงูุชุฃููู ููุฑุถุงูุ ูุชุงุจุฉ ุงูุฅุญุงูุงุช     |
|**ุงููุนุงูุฌ ุงููุธููู**      |ุจุฑูุชููููุงุช ADLุ ุชุนุฏููุงุช ุจูุฆูุฉ                 |
|**ุฃุฎุตุงุฆู ุงูุชููู (O&M)**  |ุชูููู ูุชุฎุทูุท ุงูุชููู                           |
|**ูุนูู ุงูุชุฑุจูุฉ ุงูุฎุงุตุฉ**  |ุงุณุชุฑุงุชูุฌูุงุช ุชุนููููุฉุ Learning Media Assessment|
|**ุงูุจุงุญุซ**               |ูุฑุงุฌุนุฉ ุฃุฏุจูุงุชุ ุชูุฎูุต ุฃุจุญุงุซ                    |


> โ๏ธ **ููุณ ุจุฏููุงู ุนู ุงููุชุฎุตุต ุงูุจุดุฑู** โ ุฃุฏุงุฉ ูุณุงุนุฏุฉ ุชุนูู ุชุญุช ุฅุดุฑุงู ูููู ูุคูู.

### 1.3 ุงูุจููุฉ ุงูุนุงูุฉ โ ููู ูุชุฑุงุจุท ูู ุดูุก

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        ุงููุณุชุฎุฏู (ูุชุฎุตุต/ุทุจูุจ)                        โ
โ                    ูุต + ุตูุฑ + ูููุงุช + ุฃุณุฆูุฉ                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
                            โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                     ุทุจูุฉ ุงูุชูุณูู (Orchestration)                     โ
โ                                                                      โ
โ  โโโโโโโโโโโโ  โโโโโโโโโโโโโโ  โโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโ  โ
โ  โ ุงููุตุงุฏูุฉ โ  โ ุฅุฏุงุฑุฉ      โ  โ ุงูููุงููุฉ โ  โ Prompt Chain     โ  โ
โ  โ ูุงูุฃูุงู  โ  โ ุงูุฌูุณุงุช   โ  โ ุงููุณุจูุฉ  โ  โ Orchestrator     โ  โ
โ  โโโโโโโโโโโโ  โโโโโโโโโโโโโโ  โโโโโโโโโโโโ  โโโโโโโโโโฌโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโ
                                                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโ
โ                   Claude Sonnet 4.6 Engine             โ             โ
โ                                                        โผ             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                    System Prompt ุงูุดุงูู                        โ โ
โ  โ  โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโ โ โ
โ  โ  โ ุงููููุฉ   โ โ ุงูููุงุนุฏ  โ โ ุงูุฃูุงู   โ โ ุณูุงู ุงูุฌูุณุฉ     โ โ โ
โ  โ  โ ุงูุณุฑูุฑูุฉ โ โ ุงูุณููููุฉ โ โ ุงูุทุจู    โ โ (ุชูููู/ุนูุงุฌ/ุจุญุซ)โ โ โ
โ  โ  โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโ โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                      โ
โ  โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ              โ
โ  โ Extended โ โ  Vision  โ โ  Think   โ โ Adaptive โ              โ
โ  โ Thinking โ โ (ุตูุฑ)    โ โ  Tool    โ โ Effort   โ              โ
โ  โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ              โ
โ                                                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโ ุงูุฃุฏูุงุช (Tools) โโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ                                                                โ  โ
โ  โ  ๐ฌ PubMed     ๐ RAG          ๐ข ุญุงุณุจุฉ      ๐ ุชูุซูู       โ  โ
โ  โ  Search        Knowledge       ุจุตุฑูุฉ        ุทุจู             โ  โ
โ  โ                Base                                           โ  โ
โ  โ  ๐ Article    ๐ฅ ุจุฑูุชููููุงุช   ๐๏ธ ุชูููู      ๐ง ุชุญููู       โ  โ
โ  โ  Fetch         ุชุฃููููุฉ        ูุธููู        ูุฅุญุงูุฉ          โ  โ
โ  โ                                                                โ  โ
โ  โ  ๐ฏ ุฃุฌูุฒุฉ     ๐ถ ุจุฑูุชููููุงุช   ๐ ุชูุงุนูุงุช   ๐ ูุชุงุฆุฌ        โ  โ
โ  โ  ูุณุงุนุฏุฉ       ุฃุทูุงู          ุฏูุงุฆูุฉ       ููุชุงุจุนุฉ         โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                           โ
            โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
            โผ              โผ              โผ              โผ
   โโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโโโโโ
   โ  PubMed API  โ โ Vector DB   โ โ ุฃุฌูุฒุฉ DB โ โ ุจุฑูุชููููุงุช  โ
   โ  (E-Utils)   โ โ (RAG)       โ โ ูุณุงุนุฏุฉ   โ โ ุณุฑูุฑูุฉ DB   โ
   โ  + MCP       โ โ Pinecone/   โ โ          โ โ              โ
   โ              โ โ Chroma      โ โ          โ โ              โ
   โโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโโโโโ
```

### 1.4 ูุจุฏุฃ ุงูุชุฑุงุจุท: ูู ููููู ุณุฑูุฑู โ ุชูููุฉ ุชุฎุฏูู

```
ุงููุญุชูู ุงูุณุฑูุฑู                    ุงูููููู ุงูุชููู ุงูุฐู ูุฎุฏูู
โโโโโโโโโโโโโโโโโ                   โโโโโโโโโโโโโโโโโโโโโโโโโโ
ุจุฑูุชููููุงุช ุงูุชูููู         โโโโ    Tool: functional_assessment
                                    + RAG: assessment_protocols

ุจุฑูุชููููุงุช ุงูุชุฃููู ุจุงูุชุดุฎูุต โโโโ  RAG: diagnosis_protocols
                                    + PubMed: latest evidence

ูุงุนุฏุฉ ุงูุฃุฌูุฒุฉ ุงููุณุงุนุฏุฉ     โโโโ    Tool: device_recommender
                                    + RAG: devices_database

ุชุฏุฑูุจุงุช ุงูุชุฃููู            โโโโ    RAG: training_exercises
                                    + Vision: exercise demos

ุงูุชุฃููู ุงูุนุตุจู             โโโโ    Extended Thinking: complex cases
                                    + RAG: neuro_protocols

ุชุฃููู ุงูุฃุทูุงู              โโโโ    Tool: developmental_assessment
                                    + RAG: pediatric_protocols

ุงูุฏุนู ุงูููุณู               โโโโ    Tool: depression_screening
                                    + Prompt Chain: psych_workflow

ุงูุชููู ูููุงุฑุงุช ุงูุญูุงุฉ      โโโโ    RAG: om_protocols + adl_guides

ุงููุฑุงุกุฉ ุงูุนุฑุจูุฉ             โโโโ    Tool: arabic_reading_calculator
                                    + RAG: arabic_specific_protocols

ููุงุณ ุงููุชุงุฆุฌ               โโโโ    Tool: outcome_tracker
                                    + Charts: progress_visualization
```

-----

## ุงููุตู 2: ูุธุงู ุงูุชูููู ุงููุธููู ุงูุดุงูู

### 2.1 ููุงุฐุง ูู ุงูุฃุณุงุณุ

ูู ุดูุก ูู ุงูุชุฃููู ุงูุจุตุฑู ูุจุฏุฃ ุจุงูุชูููู. ุจุฏูู ุชูููู ููุธูุ ูุง ูููู ูุถุน ุฎุทุฉ ููุง ููุงุณ ุชูุฏู. ุงููุธุงู ูุฌุจ ุฃู ููุฌู ุงููุชุฎุตุต ุฎูุงู ูู ูุฑุญูุฉ.

### 2.2 ูุฑุงุญู ุงูุชูููู โ Step by Step

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   ุงููุฑุญูุฉ 1: ุงูุชุงุฑูุฎ ุงููุฑุถู                      โ
โ                                                                  โ
โ  โ ุงูุชุดุฎูุต ุงูุนููู ุงูุฃุณุงุณู ูุงููุตุงุญุจ                              โ
โ  โ ุชุงุฑูุฎ ููุฏุงู ุงูุจุตุฑ (ููุงุฌุฆ/ุชุฏุฑูุฌูุ ูุณุชูุฑ/ูุชุทูุฑ)               โ
โ  โ ุงูุนูููุงุช ูุงูุนูุงุฌุงุช ุงูุณุงุจูุฉ                                    โ
โ  โ ุงูุฃุฏููุฉ ุงูุญุงููุฉ (ุฎุตูุตุงู: ุญูู Anti-VEGFุ ูุทุฑุงุช ุงูุบูููููุง)     โ
โ  โ ุงูุญุงูุฉ ุงูุตุญูุฉ ุงูุนุงูุฉ (ุณูุฑูุ ุถุบุทุ ุฃุนุตุงุจ)                      โ
โ  โ ุงูุญุงูุฉ ุงููุนุฑููุฉ (ุฎุตูุตุงู ูุจุงุฑ ุงูุณู)                            โ
โ  โ ุงูุดูุงูู ุงููุธูููุฉ ุงูุฑุฆูุณูุฉ (ูุง ุงูุฐู ูุง ูุณุชุทูุน ูุนููุ)          โ
โ  โ ุงูุฃูุฏุงู ุงูุดุฎุตูุฉ (ูุงุฐุง ูุฑูุฏ ุฃู ูุญููุ)                         โ
โ  โ ุงูุจูุฆุฉ ุงููุนูุดูุฉ ูุงูุฏุนู ุงูุฃุณุฑู                                 โ
โ  โ ุงููููุฉ / ุงูุชุนููู / ุงูุฃูุดุทุฉ ุงูุชุฑููููุฉ                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                             โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ุงููุฑุญูุฉ 2: ุงูุชูููู ุงูุจุตุฑู ุงูุณุฑูุฑู                    โ
โ                                                                  โ
โ  2A. ุญุฏุฉ ุงูุฅุจุตุงุฑ (Visual Acuity)                                 โ
โ  โโโ ุจูุนุฏ: Snellen / ETDRS / LogMAR (ูุน ุฃูุถู ุชุตุญูุญ)             โ
โ  โโโ ููุฑุจ: ูุฎุทุท ุงููุฑุงุกุฉ (Lighthouse, Colenbrander, MNREAD)       โ
โ  โโโ ููุง ุงูุนูููู ูููุฑุฏุฉ + ูุฌุชูุนุฉ                                 โ
โ  โโโ ูุน/ุจุฏูู ููุชุฑ โ ุชุฃุซูุฑ ุงูุฅุจูุงุฑ                                โ
โ                                                                  โ
โ  2B. ุญุณุงุณูุฉ ุงูุชุจุงูู (Contrast Sensitivity)                       โ
โ  โโโ Pelli-Robson Chart                                          โ
โ  โโโ Mars Letter Contrast Sensitivity Test                       โ
โ  โโโ ุงูุฃูููุฉ: ูุฏ ุชููู VA ุฌูุฏุฉ ููู CS ููุฎูุถุฉ โ ูุดุงูู ูุธูููุฉ     โ
โ                                                                  โ
โ  2C. ุงููุฌุงู ุงูุจุตุฑู (Visual Field)                                โ
โ  โโโ ููุงุฌูุฉ (Confrontation) โ ูุญุต ูุจุฏุฆู                          โ
โ  โโโ Humphrey / Goldmann Perimetry โ ุชูุตููู                      โ
โ  โโโ Amsler Grid โ ุงูุดุจูุฉ ุงููุฑูุฒูุฉ                                โ
โ  โโโ ุงูุชุตููู: ูุฑูุฒู / ูุญูุทู / ูุชูุทุน / ูุตูู                      โ
โ                                                                  โ
โ  2D. ุฑุคูุฉ ุงูุฃููุงู (Color Vision)                                 โ
โ  โโโ Ishihara โ ูุญุต ุณุฑูุน                                         โ
โ  โโโ Farnsworth D-15 โ ุชุตููู ููุน ุงูุฎูู                           โ
โ  โโโ ุงูุฃูููุฉ: ุชุคุซุฑ ุนูู ุงูุฃูุงู ูุงูุชููู ูุงุฎุชูุงุฑ ุงูุฃููุงู            โ
โ                                                                  โ
โ  2E. ุชููู ุงูุฅุถุงุกุฉ (Light Adaptation)                             โ
โ  โโโ Glare sensitivity โ ุญุณุงุณูุฉ ุงูุฅุจูุงุฑ                          โ
โ  โโโ Dark adaptation โ ุงูุชููู ููุธูุงู                              โ
โ  โโโ Photophobia โ ุงูุญุณุงุณูุฉ ููุถูุก                                 โ
โ                                                                  โ
โ  2F. ูุญูุตุงุช ุฅุถุงููุฉ ุญุณุจ ุงูุญุงูุฉ                                    โ
โ  โโโ Oculomotor assessment โ ุญุฑูุงุช ุงูุนูู                          โ
โ  โโโ Binocular vision โ ุงูุฑุคูุฉ ุงูุซูุงุฆูุฉ                           โ
โ  โโโ Accommodation โ ุงูุชููู (ุฎุตูุตุงู ุงูุฃุทูุงู)                      โ
โ  โโโ Stereopsis โ ุงูุฑุคูุฉ ุงููุฌุณูุฉ                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                             โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ุงููุฑุญูุฉ 3: ุงูุชูููู ุงููุธููู                           โ
โ                                                                  โ
โ  3A. ุชูููู ุงููุฑุงุกุฉ                                               โ
โ  โโโ ุญุฌู ุงูุทุจุงุนุฉ ุงูุญุฑุฌ (Critical Print Size โ CPS)               โ
โ  โโโ ุณุฑุนุฉ ุงููุฑุงุกุฉ ุงููุตูู (Maximum Reading Speed โ MRS)           โ
โ  โโโ ูุณุงูุฉ ุงูุนูู ุงูุญุงููุฉ ูุงููุซุงููุฉ                                โ
โ  โโโ ูุฏุฉ ุงููุฑุงุกุฉ ูุจู ุงูุฅุฑูุงู                                     โ
โ  โโโ ููุน ุงููุงุฏุฉ: ุตุญููุฉ / ูุชุงุจ / ูุงุชู / ูุตูุงุช ุฃุฏููุฉ              โ
โ  โโโ ๐ ููุนุฑุจูุฉ: ุงุชุฌุงู RTL + ุงูุชุดููู + ุฎุตูุตูุงุช ุงููุฑุขู           โ
โ                                                                  โ
โ  3B. ุงูุฃูุดุทุฉ ุงูููููุฉ (ADL / IADL)                                โ
โ  โโโ ุงูุนูุงูุฉ ุงูุดุฎุตูุฉ: ูุถุน ุงูุฃุฏููุฉุ ููุงุจุณุ ูููุงุฌ                  โ
โ  โโโ ุงูุทุจุฎ ูุงูุชุญุถูุฑ: ุชูุทูุนุ ุตุจ ุงูุณูุงุฆูุ ูุฑุงุกุฉ ุงููุตูุงุช           โ
โ  โโโ ุฅุฏุงุฑุฉ ุงูููุฒู: ุชูุธููุ ุชุณููุ ุชูุธูู                           โ
โ  โโโ ุฅุฏุงุฑุฉ ุงููุงู: ุฃูุฑุงู ููุฏูุฉุ ููุงุชูุฑุ ุฃุฌูุฒุฉ ุงูุตุฑุงู             โ
โ  โโโ ุงูุชูุงุตู: ูุงุชูุ ูุชุงุจุฉุ ุชูููุน                                 โ
โ  โโโ ุงูุชุฑููู: ุชููุฒูููุ ุฃุนูุงู ูุฏููุฉุ ุฑูุงุถุฉ                        โ
โ                                                                  โ
โ  3C. ุงูุชููู ูุงูุชูุฌู                                              โ
โ  โโโ ุฏุงุฎู ุงูููุฒู: ุนุชุจุงุชุ ุณูุงููุ ุฅุถุงุกุฉ                            โ
โ  โโโ ุฎุงุฑุฌ ุงูููุฒู: ุฃุฑุตูุฉุ ุฅุดุงุฑุงุชุ ููุงุตูุงุช                         โ
โ  โโโ ุจูุฆุงุช ูุฃูููุฉ vs ุบูุฑ ูุฃูููุฉ                                   โ
โ  โโโ ูููุงู vs ููุงุฑุงู                                              โ
โ  โโโ ูู ูุณุชุฎุฏู ุนุตุง / ูุฑุงูู / ููุจ ูุฑุดุฏุ                          โ
โ                                                                  โ
โ  3D. ุงููููุฉ / ุงูุชุนููู                                            โ
โ  โโโ ูุชุทูุจุงุช ุงูุนูู ุงูุจุตุฑูุฉ                                       โ
โ  โโโ ุชุนุฏููุงุช ุจูุฆุฉ ุงูุนูู ุงููุทููุจุฉ                                  โ
โ  โโโ ุงูุฃุฏุงุก ุงูุฃูุงุฏููู (ููุทูุงุจ)                                   โ
โ  โโโ ุงูุชูููุงุช ุงููุณุงุนุฏุฉ ุงููุณุชุฎุฏูุฉ ุญุงููุงู                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                             โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ุงููุฑุญูุฉ 4: ุงูุชูููู ุงูููุณู ุงูุฃููู                     โ
โ                                                                  โ
โ  โ PHQ-2 / PHQ-9 โ ูุญุต ุงูุงูุชุฆุงุจ                                 โ
โ  โ ูุฑุญูุฉ ุงูุชููู ูุน ููุฏุงู ุงูุจุตุฑ                                   โ
โ  โ ุงูุฏุนู ุงูุงุฌุชูุงุนู ูุงูุฃุณุฑู                                       โ
โ  โ ุงูุฏุงูุนูุฉ ููุชุฃููู                                              โ
โ  โ ุงูุชููุนุงุช (ูุงูุนูุฉ / ุบูุฑ ูุงูุนูุฉ)                                 โ
โ  โ ูู ูุญุชุงุฌ ุชุญููู ูุฃุฎุตุงุฆู ููุณูุ                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                             โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ุงููุฑุญูุฉ 5: ุงูุชุตููู ูุงูุฃููููุงุช                        โ
โ                                                                  โ
โ  โ ุชุตููู WHO/ICD-11 ูุถุนู ุงูุจุตุฑ                                   โ
โ  โ ุชุตููู ICF: ูุธุงุฆู ุงูุฌุณู + ุงูุฃูุดุทุฉ + ุงููุดุงุฑูุฉ + ุงูุจูุฆุฉ         โ
โ  โ ูุงุฆูุฉ ุงูุฃููููุงุช ุงูุนูุงุฌูุฉ (ูุฑุชุจุฉ ุญุณุจ ุฃูุฏุงู ุงููุฑูุถ)             โ
โ  โ ุชุญุฏูุฏ ูุณุชูู ุงูุฎุฏูุฉ ุงููุทููุจ (1/2/3)                            โ
โ  โ ุงูุฅุญุงูุงุช ุงููุทููุจุฉ (O&M, OT, ููุณู, ุงุฌุชูุงุนู)                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 2.3 ุงูุชูููุฐ ุงูุชููู: ุฃุฏุงุฉ ุงูุชูููู ุงููุธููู

```python
# โโโ ุฃุฏุงุฉ ุงูุชูููู โ ุชูุถุงู ููุงุฆูุฉ Tools โโโ
{
    "name": "functional_assessment",
    "description": """ุฃุฏุงุฉ ุงูุชูููู ุงููุธููู ุงูุจุตุฑู ุงูุดุงูู.
    ุชุณุงุนุฏ ูู ุชูุฌูู ุงููุชุฎุตุต ุฎูุงู ูุฑุงุญู ุงูุชูููู ุฎุทูุฉ ุจุฎุทูุฉ.
    ุชููู ุจู: ุชุตููู ูุณุชูู ุถุนู ุงูุจุตุฑุ ุญุณุงุจ ุงุญุชูุงุฌุงุช ุงูุชูุจูุฑุ
    ุชุญุฏูุฏ ุงูุฃููููุงุช ุงูุชุฃููููุฉุ ูุงูุชุฑุงุญ ุงูุชููููุงุช ุงูุฅุถุงููุฉ ุงููุทููุจุฉ.""",
    "input_schema": {
        "type": "object",
        "properties": {
            "phase": {
                "type": "string",
                "enum": [
                    "history",
                    "clinical_vision",
                    "functional",
                    "psychological",
                    "classification"
                ],
                "description": "ูุฑุญูุฉ ุงูุชูููู ุงูุญุงููุฉ"
            },
            "data": {
                "type": "object",
                "description": "ุจูุงูุงุช ุงูุชูููู ููุฐู ุงููุฑุญูุฉ"
            },
            "calculate": {
                "type": "array",
                "items": {"type": "string"},
                "description": "ุงูุญุณุงุจุงุช ุงููุทููุจุฉ: who_classification, magnification_need, cps_estimation, reading_speed_prediction"
            }
        },
        "required": ["phase", "data"]
    }
}
```

### 2.4 ุงูุชูููุฐ ูู RAG: ูููู ูุณุชูุฏุงุช ุงูุชูููู

```
๐ knowledge_base/assessments/
โโโ ๐ functional_vision_assessment_protocol.md
โ   โโโ metadata: {category: "assessment", subcategory: "FVA", level: "comprehensive"}
โ   โโโ content: ุจุฑูุชูููู ุงูุชูููู ุงููุงูู ูุน ุฎุทูุงุช ููุนุงููุฑ
โ
โโโ ๐ visual_acuity_measurement_guide.md
โ   โโโ metadata: {category: "assessment", subcategory: "VA"}
โ   โโโ content: ุทุฑู ุงูููุงุณุ ุฌุฏุงูู ุงูุชุญูููุ ุงููุตุงุฆุญ ุงูุณุฑูุฑูุฉ
โ
โโโ ๐ contrast_sensitivity_protocol.md
โโโ ๐ visual_field_interpretation_guide.md
โโโ ๐ reading_assessment_protocol.md  โ ูุดูู MNREAD + Arabic specifics
โโโ ๐ adl_assessment_checklist.md
โโโ ๐ mobility_assessment_protocol.md
โโโ ๐ psychological_screening_guide.md  โ PHQ-9 + ุชููู + ุชุญููู
โโโ ๐ who_icd11_classification_guide.md
โโโ ๐ icf_framework_visual_impairment.md
โ
โโโ ๐ forms/  โ ููุงุฐุฌ ุฌุงูุฒุฉ
โ   โโโ intake_form_template_ar.md
โ   โโโ fva_recording_form.md
โ   โโโ reading_assessment_form.md
โ   โโโ adl_checklist_ar.md
โ   โโโ referral_form_template_ar.md
โ
โโโ ๐ scoring/  โ ุฌุฏุงูู ุงูุชูููู ูุงูุชุณุฌูู
    โโโ va_conversion_tables.json
    โโโ who_classification_criteria.json
    โโโ magnification_calculation_formulas.json
    โโโ phq9_scoring_interpretation.json
```

-----

## ุงููุตู 3: ุจุฑูุชููููุงุช ุงูุชุฃููู ุญุณุจ ุงูุชุดุฎูุต

### 3.1 ุงููุจุฏุฃ: ูู ุชุดุฎูุต โ ููุท ููุฏุงู ุจุตุฑู โ ููุงุฑุจุฉ ุชุฃููููุฉ ูุฎุชููุฉ

```
ุงูุชุดุฎูุต              ููุท ุงูููุฏุงู            ุงูุชุญุฏู ุงูุฑุฆูุณู         ุงูููุงุฑุจุฉ ุงูุชุฃููููุฉ
โโโโโโโโโโ           โโโโโโโโโโ             โโโโโโโโโโโโโโ          โโโโโโโโโโโโโโโโโ
AMD (ุฌุงู/ุฑุทุจ)       Scotoma ูุฑูุฒู          ุงููุฑุงุกุฉ + ุงููุฌูู       Eccentric Viewing + ุชูุจูุฑ
ุงุนุชูุงู ุดุจููุฉ ุณูุฑู   ูุชูุทุน + ูุฐูุฉ           ุชุฐุจุฐุจ ุงูุฑุคูุฉ           ุฅุฏุงุฑุฉ ุงูุฅุถุงุกุฉ + ุชูุจูุฑ ูุฑู
ุงูุบูููููุง            ููุฏุงู ูุญูุทู ุชุฏุฑูุฌู     ุงูุชููู + ุงูุฅุจูุงุฑ       Scanning + ููุงุชุฑ + O&M
ุงูุชูุงุจ ุดุจููุฉ ุตุจุงุบู   ุฃูุจูุจู (Tunnel)         ุงูุชููู ุงููููู          O&M ููุซู + ุฅุถุงุกุฉ + ุชูุณููุจ
ุฅุนุชุงู ุงููุฑููุฉ         ุถุจุงุจูุฉ ููุชุดุฑุฉ          ุงูุชุจุงูู + ุงูุฅุจูุงุฑ      ููุงุชุฑ + ุชุจุงูู + ุฅุถุงุกุฉ
ุงูุณูุชุฉ ุงูุฏูุงุบูุฉ       Hemianopia             ุงูุชููู + ุงููุฑุงุกุฉ       Scanning + ููุดูุฑุงุช + ุชุนููุถ
CVI (ุฃุทูุงู)          ูุชุบูุฑ + ูุนูุฏ           ุงูุชุนูู + ุงูุชุทูุฑ         ุจูุฆุฉ ุจุตุฑูุฉ ูุจุณุทุฉ + ุชูุฑุงุฑ
ุงูุฑุฃุฑุฃุฉ (Nystagmus)   ุชุฐุจุฐุจ ูุณุชูุฑ            ูู ุงูููุงู              ูุถุนูุฉ ุฑุฃุณ + ุชูุจูุฑ + ุจูุฆุฉ
ุงูููู (Albinism)      ุญุณุงุณูุฉ ุถูุก + VAโ       ุงูุฅุจูุงุฑ + ุงููุฑุงุกุฉ      ููุงุชุฑ + ูุจุนุฉ + ุชูุจูุฑ
```

### 3.2 ูููุฐุฌ ุจุฑูุชูููู: ุงูุถููุฑ ุงูุจูุนู (AMD)

```yaml
# โโโ AMD Rehabilitation Protocol โโโ
diagnosis: "Age-Related Macular Degeneration"
icd11: "9B75"
pattern: "Central scotoma โ bilateral, may be asymmetric"

assessment_priorities:
  - scotoma_mapping: "Amsler Grid + Microperimetry if available"
  - preferred_retinal_locus: "Identify PRL โ usually just above or to the side of scotoma"
  - reading_assessment: "MNREAD โ measure CPS, MRS, reading acuity"
  - contrast_sensitivity: "Pelli-Robson โ often reduced"
  - glare: "Usually increased sensitivity"

rehabilitation_components:

  1_eccentric_viewing_training:
    description: "ุชุฏุฑูุจ ุงููุฑูุถ ุนูู ุงุณุชุฎุฏุงู ููุทูุฉ ุดุจููุฉ ุจุฏููุฉ (PRL)"
    steps:
      - "ุชุญุฏูุฏ ูููุน ุงูู scotoma ุจุงููุณุจุฉ ููุชุซุจูุช"
      - "ุชุญุฏูุฏ ุงูุงุชุฌุงู ุงูุฃูุซู ูููุธุฑ ุงููุงูุฑูุฒู"
      - "ุชูุงุฑูู ุชุซุจูุช ูุน ูุฏู ุซุงุจุช (ุจูุนุฉ ููููุฉ)"
      - "ุชูุงุฑูู ุชุซุจูุช ูุน ุญุฑูู/ูููุงุช"
      - "ุงูุชุทุจูู ุนูู ุงููุฑุงุกุฉ ุงูุชุฏุฑูุฌู"
    frequency: "2-3 ูุฑุงุช ุฃุณุจูุนูุงู ร 30 ุฏูููุฉ ร 6-8 ุฃุณุงุจูุน"
    evidence_level: "Level 1b โ RCTs support efficacy"

  2_steady_eye_strategy:
    description: "ุชุฏุฑูุจ ุงูุนูู ุนูู ุงูุซุจุงุช ุฃุซูุงุก ุงููุฑุงุกุฉ โ ุชุญุฑูู ุงููุต ุจุฏู ุงูุนูู"
    application: "ูุน CCTV ุฃู tablet"
    evidence: "Moderate โ improves reading speed when combined with EV"

  3_magnification_prescription:
    near:
      calculation: "Magnification = Denominator of VA / Desired acuity"
      example: "VA 6/60 โ wants 6/12 โ 60/12 = 5X magnification needed"
      device_options:
        - "Stand magnifier 5X with LED โ ูููุฑุงุกุฉ ุงูุทูููุฉ"
        - "Handheld magnifier 5X โ ููููุงู ุงููุตูุฑุฉ (ุฃุณุนุงุฑุ ูุตูุงุช)"
        - "CCTV/EVES โ ูููุฑุงุกุฉ ุงููุทููุฉ ูุงููุชุงุจุฉ"
        - "Tablet with zoom โ ูุชุนุฏุฏ ุงูุงุณุชุฎุฏุงูุงุช"
    distance:
      calculation: "Telescope power = Denominator / Desired (e.g., 60/12 = 5X)"
      devices: "Monocular telescope 4-6X โ ูููุญุงุชุ ุชููุฒููู"

  4_environmental_modifications:
    lighting:
      - "ุฅุถุงุกุฉ ููุฌูุฉ (Task lighting) 75-100 watt LED"
      - "ุชุฌูุจ ุงูุฅุถุงุกุฉ ุงูุฎูููุฉ ูุงูุฅุจูุงุฑ ุงููุจุงุดุฑ"
      - "ูุตุจุงุญ ูุฑุงุกุฉ ุจุฐุฑุงุน ูุฑูุฉ"
    contrast:
      - "ุฃุฏูุงุช ูุทุจุฎ ุจุฃููุงู ูุชุจุงููุฉ (ููุญ ุชูุทูุน ุฃุณูุฏ + ุฃุจูุถ)"
      - "ุนูุงูุงุช ุจุงุฑุฒุฉ ุนูู ุงูุฃุฌูุฒุฉ (ููุงุท ููุณูุฉ)"
      - "ุฃููุงู ููููุงุณุชุฑ ุณูุฏุงุก ุนุฑูุถุฉ ุจุฏู ุงูุฃููุงู ุงูุนุงุฏูุฉ"
    organization:
      - "ุฃูุงูู ุซุงุจุชุฉ ููู ุดูุก"
      - "ุชุณููุฉ ุจุงูุฎุท ุงููุจูุฑ ุฃู ุงูุตูุช"

  5_psychosocial:
    - "ุดุฑุญ ุงูุญุงูุฉ ูุชููุนุงุช ุงูุชุฃููู ุงููุงูุนูุฉ"
    - "ุฑุจุท ุจูุฌููุนุงุช ุงูุฏุนู"
    - "ุฅุดุฑุงู ุงูุฃุณุฑุฉ ูู ุงูุฌูุณุงุช"
    - "ูุญุต ุงูุชุฆุงุจ ุฅุฐุง ูุฒู"

  6_follow_up:
    - "4 ุฃุณุงุจูุน: ุชูููู ุงุณุชุฎุฏุงู ุงูุฃุฌูุฒุฉ + Eccentric Viewing"
    - "3 ุฃุดูุฑ: ุฅุนุงุฏุฉ ุชูููู ุงููุฑุงุกุฉ (MNREAD) + ADL"
    - "6 ุฃุดูุฑ: ุชูููู ุดุงูู + ุชุนุฏูู ุงูุฎุทุฉ"
    - "ุณูููุงู: ูุญุต ุจุตุฑู + ุชุญุฏูุซ ุงูุฃุฌูุฒุฉ"

  outcome_measures:
    - "MNREAD: Reading speed + CPS โ ูุจู ูุจุนุฏ"
    - "VFQ-25: Quality of life โ ูุจู ูุจุนุฏ"
    - "ADL checklist: Independence score โ ูุจู ูุจุนุฏ"
    - "Patient satisfaction questionnaire"
```

### 3.3 ุงูุชูููุฐ ูู RAG: ูููู ุจุฑูุชููููุงุช ุงูุชุดุฎูุต

```
๐ knowledge_base/diagnosis_protocols/
โโโ ๐ retinal/
โ   โโโ amd_dry_protocol.yaml
โ   โโโ amd_wet_protocol.yaml
โ   โโโ diabetic_retinopathy_protocol.yaml
โ   โโโ retinitis_pigmentosa_protocol.yaml
โ   โโโ retinal_detachment_post_surgery.yaml
โ   โโโ stargardt_disease_protocol.yaml
โ
โโโ ๐ optic_nerve/
โ   โโโ glaucoma_protocol.yaml
โ   โโโ optic_neuritis_protocol.yaml
โ   โโโ optic_atrophy_protocol.yaml
โ
โโโ ๐ corneal/
โ   โโโ corneal_opacity_protocol.yaml
โ   โโโ keratoconus_protocol.yaml
โ   โโโ post_keratoplasty_protocol.yaml
โ
โโโ ๐ neurological/
โ   โโโ hemianopia_protocol.yaml        โ ุงููุตู 6
โ   โโโ visual_neglect_protocol.yaml
โ   โโโ tbi_vision_protocol.yaml
โ   โโโ nystagmus_protocol.yaml
โ   โโโ cvi_protocol.yaml              โ ุงููุตู 7
โ
โโโ ๐ congenital/
โ   โโโ albinism_protocol.yaml
โ   โโโ aniridia_protocol.yaml
โ   โโโ congenital_cataract_protocol.yaml
โ   โโโ rop_protocol.yaml
โ
โโโ ๐ other/
    โโโ post_cataract_surgery_protocol.yaml
    โโโ multiple_pathology_guide.yaml
```

### 3.4 ููู ูุณุชุฎุฏู Claude ูุฐู ุงูุจุฑูุชููููุงุช

```
ุงููุณุชุฎุฏู: "ูุฑูุถ 55 ุณูุฉุ RPุ ูุฌุงู ุจุตุฑู 10 ุฏุฑุฌุงุชุ VA 6/18"
                    โ
                    โผ
    Claude ูููุนูู Extended Thinking (high effort)
                    โ
                    โผ
    Tool Call: search_knowledge_base(
        query="retinitis pigmentosa rehabilitation tunnel vision",
        category="diagnosis_protocols"
    )
                    โ
                    โผ
    RAG ููุฑุฌุน: retinitis_pigmentosa_protocol.yaml
                    โ
                    โผ
    Tool Call: search_pubmed(
        query="retinitis pigmentosa low vision rehabilitation",
        date_range="2021:2026",
        article_types=["review", "guideline"]
    )
                    โ
                    โผ
    Claude ูููุฑ (Interleaved Thinking):
    "ุงูุจุฑูุชูููู ุงููุญูู ููุตู ุจู O&M + reverse telescope.
     ุฃุจุญุงุซ PubMed ุชูุธูุฑ ุฏููู ุฌุฏูุฏ ุนูู VR training.
     ุงููุฑูุถ ุนูุฑู 55 โ needs vocational assessment too."
                    โ
                    โผ
    Claude ูููุฏู ุฎุทุฉ ุดุงููุฉ ูุฎุตุตุฉ ูุน ูุฑุงุฌุน
```

-----

## ุงููุตู 4: ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฃุฌูุฒุฉ ุงููุณุงุนุฏุฉ

### 4.1 ุงูุชุตููู ุงูุดุงูู

```
๐ฆ ุงูุฃุฌูุฒุฉ ุงููุณุงุนุฏุฉ ุงูุจุตุฑูุฉ
โ
โโโ ๐ ุฃุฌูุฒุฉ ุงูุชูุจูุฑ ุงูุจุตุฑูุฉ (Optical Magnifiers)
โ   โโโ ููุจุฑุงุช ูุฏููุฉ (Handheld) โ 2X ุฅูู 20X
โ   โ   โโโ ูุถูุฆุฉ / ุบูุฑ ูุถูุฆุฉ
โ   โ   โโโ ูุฑููุฉ / ูุงูุฑููุฉ (aspheric)
โ   โ   โโโ ุงูุงุณุชุฎุฏุงู: ููุงู ูุตูุฑุฉ (ุฃุณุนุงุฑุ ุฃุฏููุฉุ ุฑุณุงุฆู)
โ   โ
โ   โโโ ููุจุฑุงุช ุญุงูู (Stand) โ 2X ุฅูู 20X
โ   โ   โโโ ุชุญุงูุธ ุนูู ูุณุงูุฉ ุจุคุฑูุฉ ุซุงุจุชุฉ
โ   โ   โโโ ุชุญุฑุฑ ุงููุฏูู
โ   โ   โโโ ุงูุงุณุชุฎุฏุงู: ูุฑุงุกุฉ ูุทููุฉุ ุฃุนูุงู ูุฏููุฉ
โ   โ
โ   โโโ ููุจุฑุงุช ูุธุงุฑูุฉ (Spectacle-mounted)
โ   โ   โโโ ุนุฏุณุงุช ูุฌูุฑูุฉ (Microscopes) โ ููุฉ ุนุงููุฉ
โ   โ   โโโ ุนุฏุณุงุช ูุตู ุนูู (Half-eye)
โ   โ   โโโ Prismatic half-eye โ ุชููู ุงูุชูุงุฑุจ
โ   โ   โโโ ุงูุงุณุชุฎุฏุงู: ูุฑุงุกุฉ ูุฏูู ุญุฑุชูู + ูุณุงูุฉ ุซุงุจุชุฉ
โ   โ
โ   โโโ ุชูุณููุจุงุช (Telescopes)
โ       โโโ ูุฏููุฉ (Monocular) โ 2.5X ุฅูู 10X
โ       โโโ ูุธุงุฑูุฉ (Bioptic) โ ููุงุฏุฉ ูู ุจุนุถ ุงูุจูุฏุงู
โ       โโโ Keplerian (ุตูุฑุฉ ุฃูุถุญุ ุฃุซูู) vs Galilean (ุฃุฎูุ ูุฌุงู ุฃุถูู)
โ       โโโ ุงูุงุณุชุฎุฏุงู: ููุญุงุชุ ุชููุฒูููุ ุณุจูุฑุฉ
โ
โโโ ๐บ ุฃุฌูุฒุฉ ุงูุชูุจูุฑ ุงูุฅููุชุฑูููุฉ (Electronic Magnification)
โ   โโโ CCTV / Video Magnifier โ ููุชุจู
โ   โ   โโโ ุชูุจูุฑ 2X-75X
โ   โ   โโโ ุฃูุถุงุน ุงูุชุจุงูู (ุฃุจูุถ/ุฃุณูุฏุ ุฃุตูุฑ/ุฃุฒุฑูุ ุฅูุฎ)
โ   โ   โโโ ุงูุงุณุชุฎุฏุงู: ูุฑุงุกุฉ ูุทููุฉ + ูุชุงุจุฉ
โ   โ   โโโ ุงูุฃูุถู ูู: AMD, RP
โ   โ
โ   โโโ ููุจุฑุงุช ุฅููุชุฑูููุฉ ูุญูููุฉ (Portable EVES)
โ   โ   โโโ ุญุฌู ุงูุฌูุจ: Clover, Ruby, Compact+
โ   โ   โโโ ุชูุจูุฑ 2X-22X
โ   โ   โโโ ุงูุงุณุชุฎุฏุงู: ุชุณููุ ูุทุงุนูุ ุฎุงุฑุฌ ุงูููุฒู
โ   โ
โ   โโโ ุฃุฌูุฒุฉ ููุญูุฉ (Tablets) + ุชุทุจููุงุช ุชูุจูุฑ
โ   โ   โโโ iPad/Android ูุน Accessibility features
โ   โ   โโโ SuperVision+, Magnifying Glass apps
โ   โ   โโโ ูุชุนุฏุฏุฉ ุงูุงุณุชุฎุฏุงูุงุช + ููุจููุฉ ุงุฌุชูุงุนูุงู
โ   โ
โ   โโโ ูุธุงุฑุงุช ุฐููุฉ (Smart Glasses)
โ       โโโ eSight โ ุชูุจูุฑ ุฅููุชุฑููู ุนุงูู ุงูุฏูุฉ
โ       โโโ OrCam MyEye โ ูุฑุงุกุฉ ูุตูุต + ุชูููุฒ ูุฌูู
โ       โโโ Envision Glasses โ AI-powered
โ       โโโ IrisVision โ VR headset ููุชูุจูุฑ
โ
โโโ ๐ถ๏ธ ุงูููุงุชุฑ ูุงูุนุฏุณุงุช ุงูุฎุงุตุฉ
โ   โโโ ููุงุชุฑ ุงูุชุตุงุตูุฉ (Absorptive Filters)
โ   โ   โโโ NoIR, Corning CPF, NOIR U-Series
โ   โ   โโโ ุฃุตูุฑ (450nm) โ ูุชุญุณูู ุงูุชุจุงูู
โ   โ   โโโ ุจุฑุชูุงูู (527nm) โ ููุฅุจูุงุฑ ุงููุชูุณุท
โ   โ   โโโ ููุฑูุงูู (550nm) โ ููุฅุจูุงุฑ ุงูุดุฏูุฏ
โ   โ   โโโ ุฑูุงุฏู โ ูุชูููู ุงูุฅุถุงุกุฉ ุจุฏูู ุชุบููุฑ ุงูุฃููุงู
โ   โ
โ   โโโ ููุดูุฑุงุช (Prisms)
โ   โ   โโโ Fresnel prisms โ ูู Hemianopia (ููู ุงูุตูุฑุฉ)
โ   โ   โโโ Yoked prisms โ ูู Visual midline shift
โ   โ   โโโ Sector prisms โ ูู field expansion
โ   โ
โ   โโโ ุฃุบุทูุฉ / ุญุฌุจ (Occlusion)
โ       โโโ Occluder ูุนูู ูุงุญุฏุฉ โ ููุฑุคูุฉ ุงููุฒุฏูุฌุฉ
โ       โโโ Partial occlusion โ ููุงุฑุชุจุงู ุงูุจุตุฑู
โ
โโโ ๐ ุชูููุงุช ุบูุฑ ุจุตุฑูุฉ (Non-Optical & Assistive Tech)
โ   โโโ ูุงุฑุฆุงุช ุงูุดุงุดุฉ: JAWS, NVDA, VoiceOver, TalkBack
โ   โโโ ุชุญููู ูุต ูุตูุช: text-to-speech
โ   โโโ ูุชุจ ุตูุชูุฉ: Bookshare, Learning Ally, DAISY
โ   โโโ ุทุงุจุนุฉ/ูุงุฑุฆ ุจุฑุงูู
โ   โโโ ุณุงุนุงุช ูุฃุฏูุงุช ูุงุทูุฉ
โ   โโโ ุนุตุง ุจูุถุงุก (ุฃููุงุน: standard, folding, ID cane)
โ   โโโ ุชุทุจููุงุช: Be My Eyes, Seeing AI, Aira, TapTapSee
โ
โโโ ๐ ุชุนุฏููุงุช ุจูุฆูุฉ
    โโโ ุฅุถุงุกุฉ: task lighting, dimmer switches, night lights
    โโโ ุชุจุงูู: ุดุฑูุท ูุงุตู ููููุ ุนูุงูุงุช ุจุงุฑุฒุฉ
    โโโ ุชูุจูุฑ: ููุตูุงุช ูุจูุฑุฉ ููุฃุฌูุฒุฉุ ููุญุฉ ููุงุชูุญ ูุจูุฑุฉ
    โโโ ุชูุธูู: ุฃูุงูู ุซุงุจุชุฉุ ุตูุงุฏูู ููููุฉ
    โโโ ุฃูุงู: ุฏุฑุงุจุฒููุ ุนูุงูุงุช ุนูู ุงูุณูุงููุ ุฅุฒุงูุฉ ุงูุนูุงุฆู
```

### 4.2 ุงูุชูููุฐ ุงูุชููู: ุฃุฏุงุฉ ุชูุตูุฉ ุงูุฃุฌูุฒุฉ

```python
{
    "name": "device_recommender",
    "description": """ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฃุฌูุฒุฉ ุงููุณุงุนุฏุฉ ุงูุจุตุฑูุฉ.
    ุชููุตู ุจุงูุฃุฌูุฒุฉ ุงูููุงุณุจุฉ ุจูุงุกู ุนูู:
    - ุญุฏุฉ ุงูุฅุจุตุงุฑ ูููุน ุงูููุฏุงู ุงูุจุตุฑู
    - ุงููููุฉ ุงููุทููุจุฉ (ูุฑุงุกุฉุ ูุณุงูุฉุ ุชููู)
    - ุนูุฑ ุงููุฑูุถ ููุฏุฑุงุชู ุงูุญุฑููุฉ ูุงููุนุฑููุฉ
    - ุงูููุฒุงููุฉ ูุงูุชููุฑ
    ููู ุฌูุงุฒ: ุงูููุงุตูุงุชุ ุฏูุงุนู ุงููุตูุ ููุงูุน ุงูุงุณุชุนูุงูุ ุทุฑููุฉ ุงูุชุฏุฑูุจ""",
    "input_schema": {
        "type": "object",
        "properties": {
            "visual_acuity": {"type": "string", "description": "ุญุฏุฉ ุงูุฅุจุตุงุฑ (ูุซู: 6/60)"},
            "field_type": {
                "type": "string",
                "enum": ["central_loss", "peripheral_loss", "hemianopia",
                         "scattered", "general_reduction", "normal_field"]
            },
            "task": {
                "type": "string",
                "enum": ["near_reading", "distance_viewing", "mobility",
                         "writing", "computer", "cooking", "grooming",
                         "medication_management", "shopping"]
            },
            "patient_age": {"type": "integer"},
            "cognitive_status": {
                "type": "string",
                "enum": ["normal", "mild_impairment", "moderate_impairment"]
            },
            "hand_function": {
                "type": "string",
                "enum": ["normal", "tremor", "limited_dexterity", "one_hand"]
            }
        },
        "required": ["visual_acuity", "task"]
    }
}
```

-----

## ุงููุตู 5: ุชุฏุฑูุจุงุช ุงูุชุฃููู ุงูุจุตุฑู ุงูุฃุณุงุณูุฉ

### 5.1 Eccentric Viewing Training (EVT) โ ุชุฏุฑูุจ ุงููุธุฑ ุงููุงูุฑูุฒู

```yaml
name: "Eccentric Viewing Training"
purpose: "ุชุฏุฑูุจ ุงููุฑูุถ ุนูู ุงุณุชุฎุฏุงู ููุทูุฉ ุดุจููุฉ ุจุฏููุฉ (PRL) ุนูุฏ ููุฏุงู ุงูุฑุคูุฉ ุงููุฑูุฒูุฉ"
indications:
  - "AMD ูุน scotoma ูุฑูุฒู"
  - "ุฃู ุญุงูุฉ ุจูุง ููุฏุงู ูุฑูุฒู (Stargardt, Macular hole, etc.)"
contraindications:
  - "ุถุนู ูุนุฑูู ุดุฏูุฏ"
  - "ุนุฏู ุงุณุชูุฑุงุฑ ุงูุญุงูุฉ ุงูุนูููุฉ"

protocol_steps:
  step_1_awareness:
    goal: "ุชูุนูุฉ ุงููุฑูุถ ุจูุฌูุฏ ุงูู scotoma ููููุนู"
    exercises:
      - "Amsler Grid โ ุชุญุฏูุฏ ุดูู ููููุน ุงูู scotoma"
      - "ุงูุดุฑุญ ุจูููุฐุฌ ุงูุณุงุนุฉ: scotomak ุนูุฏ ุงูุณุงุนุฉ 12 โ ุฃูุธุฑ ููุฃุณูู (ุงูุณุงุนุฉ 6)"
    duration: "ุฌูุณุฉ ูุงุญุฏุฉ 30-45 ุฏูููุฉ"

  step_2_localization:
    goal: "ุชุญุฏูุฏ ุงูุงุชุฌุงู ุงูุฃูุซู ูููุธุฑ ุงููุงูุฑูุฒู"
    exercises:
      - "Freeman PRL training card"
      - "ููุทุฉ ุชุซุจูุช ูุฑูุฒูุฉ + ุฃูุฏุงู ูู 8 ุงุชุฌุงูุงุช"
      - "ุงููุฑูุถ ูุญุฏุฏ ุฃู ุงุชุฌุงู ูุฑู ููู ุงููุฏู ุจุฃูุถู ูุถูุญ"
    duration: "1-2 ุฌูุณุฉ"

  step_3_steady_fixation:
    goal: "ุชุซุจูุช ุงููุธุฑ ุนูู PRL ููุชุฑุงุช ูุชุฒุงูุฏุฉ"
    exercises:
      - "ุชุซุจูุช ุงููุธุฑ ุนูู ุญุฑู ูุจูุฑ ููุฏุฉ 5 ุซูุงูู โ 10 โ 20 โ 30"
      - "ุชุซุจูุช ูุน ุนุฏ (ุนุฏ ูู 1-10 ุฃุซูุงุก ุงูุชุซุจูุช)"
      - "ุชุซุจูุช ุฃุซูุงุก ุชุญุฑูู ุงูุฑุฃุณ ุจุจุทุก"
    frequency: "ููููุงู 15 ุฏูููุฉ ร 2-3 ุฃุณุงุจูุน"

  step_4_tracking:
    goal: "ุชุชุจุน ุงูุฃูุฏุงู ุฃุซูุงุก ุงุณุชุฎุฏุงู PRL"
    exercises:
      - "ุชุชุจุน ุฎุท ุฃููู ูู ุงููููู ูููุณุงุฑ (ููุนุฑุจูุฉ)"
      - "ุชุชุจุน ูููุฉ ูุจูุฑุฉ โ ุฌููุฉ โ ุณุทุฑ"
      - "ุชุชุจุน ุฃุตุจุน ุงููุฏุฑุจ ุงููุชุญุฑู"
    frequency: "3 ูุฑุงุช ุฃุณุจูุนูุงู ร 20 ุฏูููุฉ"

  step_5_reading_application:
    goal: "ุชุทุจูู Eccentric Viewing ุนูู ุงููุฑุงุกุฉ"
    exercises:
      - "ูููุงุช ููุฑุฏุฉ ูุจูุฑุฉ (ุญุฌู ุทุจุงุนุฉ > CPS ุจุฎุทูุชูู)"
      - "ุฌูู ูุตูุฑุฉ โ ููุฑุงุช"
      - "ุชุตุบูุฑ ุชุฏุฑูุฌู ูุญุฌู ุงูุทุจุงุนุฉ"
      - "ูุน ุฌูุงุฒ ุชูุจูุฑ (magnifier ุฃู CCTV)"
      - "๐ ููุนุฑุจูุฉ: ุงูุงุชุฌุงู ูู ุงููููู ูููุณุงุฑ"
    frequency: "ููููุงู 20-30 ุฏูููุฉ ร 6-8 ุฃุณุงุจูุน"

  expected_outcomes:
    - "ุชุญุณู ุณุฑุนุฉ ุงููุฑุงุกุฉ 40-60% ุฎูุงู 8 ุฃุณุงุจูุน"
    - "ุงููุฏุฑุฉ ุนูู ูุฑุงุกุฉ ุญุฌู ุทุจุงุนุฉ ุฃุตุบุฑ ุจุฎุทูุฉ ูุงุญุฏุฉ"
    - "ุชูููู ุญุฑูุงุช ุงูุฑุฃุณ ุงูุชุนููุถูุฉ"

  evidence: "Level 1b โ Multiple RCTs show efficacy (Nilsson 2003, Seiple 2011)"
```

### 5.2 Scanning Training โ ุชุฏุฑูุจ ุงููุณุญ ุงูุจุตุฑู

```yaml
name: "Visual Scanning Training"
purpose: "ุชูุณูุน ุงููุณุญ ุงูุจุตุฑู ูููุฑุถู ุงูุฐูู ููุฏูุง ุฌุฒุกุงู ูู ุงููุฌุงู ุงูุจุตุฑู"
indications:
  - "Hemianopia (ููุฏุงู ูุตู ุงููุฌุงู)"
  - "Quadrantanopia"
  - "ุถูู ุงููุฌุงู ุงูุจุตุฑู (Glaucoma, RP)"
  - "Visual neglect ุจุนุฏ ุงูุณูุชุฉ ุงูุฏูุงุบูุฉ"

protocol_steps:
  step_1_awareness:
    goal: "ูุนู ุงููุฑูุถ ุจุญุฏูุฏ ูุฌุงูู ุงูุจุตุฑู"
    exercises:
      - "ุชูุฑูู ุงูุณุงุนุฉ: ุงููุฑูุถ ููุฏ ุฐุฑุงุนู ููุญุฑู ูุฏู ุญุชู ุชุฎุชูู"
      - "ุชุญุฏูุฏ ุญุฏูุฏ ุงููุฌุงู ูู ูู ุงุชุฌุงู"

  step_2_organized_scanning:
    goal: "ุจูุงุก ููุท ูุณุญ ููุชุธู ููููุฌู"
    exercises:
      - "ูุณุญ ุฃููู: ูู ุงููููู ูููุณุงุฑ (ูุนูุณู) ุจุณุฑุนุฉ ุซุงุจุชุฉ"
      - "ูุณุญ ุนููุฏู: ูู ุงูุฃุนูู ููุฃุณูู"
      - "ูุณุญ ุจูุฆุฉ ุงูุบุฑูุฉ: ุจุงุจ โ ูุงูุฐุฉ โ ุฃุซุงุซ ุจุชุฑุชูุจ"
      - "ุงูุจุญุซ ุนู ุฃูุฏุงู ูู ุตูุฑุฉ ูุนูุฏุฉ (ูุซู: ูู ุณูุงุฑุฉ ุญูุฑุงุกุ)"

  step_3_functional_scanning:
    goal: "ุชุทุจูู ุนูู ุงูููุงูู ุงูููููุฉ"
    exercises:
      - "ุนุจูุฑ ุงูุดุงุฑุน: ูุธุฑ ูููู โ ูุณุงุฑ โ ูููู ูุน ุชุญุฑูู ุงูุฑุฃุณ"
      - "ุงูุจุญุซ ูู ุฑู ุงูุณูุจุฑูุงุฑูุช"
      - "ูุฑุงุกุฉ ุณุทุฑ ูุงูู ุจุฏูู ุชูููุช ูููุงุช"
      - "ูุณุญ ุดุงุดุฉ ุงููุงุชู/ุงูููุจููุชุฑ"

  frequency: "3 ูุฑุงุช ุฃุณุจูุนูุงู ร 30 ุฏูููุฉ ร 8-12 ุฃุณุจูุน"
  evidence: "Level 1a โ Strong evidence for hemianopia scanning (Cochrane 2019)"
```

### 5.3 ุชุฏุฑูุจุงุช ุฅุถุงููุฉ (ูุฌุจ ุชุฎุฒูููุง ูู RAG)

|ุงูุชุฏุฑูุจ                     |ุงููุคุดุฑุงุช                |ุงูููู ูู RAG                         |
|----------------------------|------------------------|-------------------------------------|
|Steady Eye Strategy         |AMD + ุชุญุฑูู ุงููุต        |`training/steady_eye_strategy.yaml`  |
|Tracking Exercises          |ูุดุงูู ุญุฑูุฉ ุงูุนูู        |`training/tracking_exercises.yaml`   |
|Saccadic Training           |ุชุจุงุทุค ุญุฑูุงุช ุงูุฑูุด       |`training/saccadic_training.yaml`    |
|Hand-Eye Coordination       |ุฃู ุถุนู ุจุตุฑู + ููุงู ูุฏููุฉ|`training/hand_eye_coordination.yaml`|
|Typing/Writing Training     |ุตุนูุจุฉ ุงููุชุงุจุฉ           |`training/writing_training.yaml`     |
|Daily Living Skills Training|ADL                     |`training/adl_skills/`               |

-----

## ุงููุตู 6: ุงูุชุฃููู ุงูุนุตุจู ุงูุจุตุฑู

### 6.1 ุงูุญุงูุงุช ุงููุดูููุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                 ุงูุชุฃููู ุงูุนุตุจู ุงูุจุตุฑู                           โ
โ           Neuro-Visual Rehabilitation                          โ
โ                                                                โ
โ  1. Hemianopia (ููุฏุงู ูุตู ุงููุฌุงู ุงูุจุตุฑู)                       โ
โ     โโโ Homonymous โ ููุณ ุงูุฌูุฉ ูู ุงูุนูููู (ุณูุชุฉ ุฏูุงุบูุฉ)        โ
โ     โโโ Bitemporal โ ุงูุฌุงูุจูู ุงูุฎุงุฑุฌููู (ูุฑู ูุฎุงูู)             โ
โ     โโโ Quadrantanopia โ ุฑุจุน ุงููุฌุงู                             โ
โ                                                                โ
โ  2. Visual Neglect (ุงูุฅููุงู ุงูุจุตุฑู)                             โ
โ     โโโ ูุฎุชูู ุนู Hemianopia โ ูุดููุฉ ุงูุชุจุงู ูููุณุช ููุฏุงู          โ
โ     โโโ ุงููุฑูุถ ูุง ูุนู ุงูุฌุงูุจ ุงููุตุงุจ                             โ
โ     โโโ ุฃุฎุทุฑ ุนูู ุงูุฃูุงู                                        โ
โ                                                                โ
โ  3. Post Trauma Vision Syndrome (PTVS)                         โ
โ     โโโ ุจุนุฏ ุฅุตุงุจุงุช ุงูุฏูุงุบ ุงูุฑุถูุฉ (TBI)                          โ
โ     โโโ ุฃุนุฑุงุถ: ุงุฒุฏูุงุฌุ ุฏูุฎุฉุ ุญุณุงุณูุฉ ุถูุกุ ุตุนูุจุฉ ุชุฑููุฒ           โ
โ     โโโ ูุดูู: convergence insufficiency, accommodative issues   โ
โ                                                                โ
โ  4. Diplopia (ุงูุฑุคูุฉ ุงููุฒุฏูุฌุฉ)                                 โ
โ     โโโ ุฃุญุงุฏูุฉ / ุซูุงุฆูุฉ                                        โ
โ     โโโ ูุณุชูุฑุฉ / ูุชูุทุนุฉ                                        โ
โ     โโโ ุงูุนูุงุฌ: ููุดูุฑุงุชุ ุญุฌุจุ ุชูุงุฑูู                            โ
โ                                                                โ
โ  5. Nystagmus (ุงูุฑุฃุฑุฃุฉ)                                        โ
โ     โโโ ุฎูููุฉ / ููุชุณุจุฉ                                         โ
โ     โโโ Null point โ ูุถุนูุฉ ุงูุฑุฃุณ ุงููุซูู                         โ
โ     โโโ ุงูุนูุงุฌ: ููุดูุฑุงุชุ ุฌุฑุงุญุฉุ ุชุนุฏููุงุช ุจูุฆูุฉ                    โ
โ                                                                โ
โ  6. Cortical Visual Impairment - CVI (ุงููุตู 7 โ ุฃุทูุงู)         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 6.2 ุจุฑูุชูููู Hemianopia โ ูุฎุชุตุฑ

```yaml
hemianopia_rehabilitation:
  assessment:
    - "ุชุญุฏูุฏ ููุน ููุฏู ููุฏุงู ุงููุฌุงู (Humphrey/Goldmann)"
    - "ุชูููู ููุงุฑุงุช ุงููุณุญ ุงูุญุงููุฉ"
    - "ุชูููู ุงููุฑุงุกุฉ (ุฃูู ูุถูุน ูู ุงูุณุทุฑุ)"
    - "ุชูููู ุงูุชููู (ูู ูุตุทุฏู ุจุฃุดูุงุกุ)"
    - "ุชูููู Visual Neglect (Line Bisection Test, Star Cancellation)"

  treatment_approaches:
    compensatory_scanning:
      description: "ุชุฏุฑูุจ ุงููุฑูุถ ุนูู ูุณุญ ุงูุฌูุฉ ุงูููููุฏุฉ ุจูุนุงููุฉ"
      technique: "Lighthouse Technique: ุญุฑู ุนููู + ุฑุฃุณู ูุญู ุงูุฌูุฉ ุงูุนููุงุก"
      evidence: "Level 1a โ ุงูุฃูุซุฑ ูุนุงููุฉ"

    optical_aids:
      fresnel_prisms:
        description: "ููุดูุฑุงุช ูููู ุตูุฑุฉ ุงูุฌูุฉ ุงูููููุฏุฉ ููุฌูุฉ ุงูุณูููุฉ"
        power: "ุนุงุฏุฉ 15-20 prism diopters"
        placement: "ุนูู ุนุฏุณุฉ ุนูู ุงูุฌูุฉ ุงููุตุงุจุฉ"
        limitations: "ุชุณุจุจ ุงุฒุฏูุงุฌ ุจุตุฑู ูู ููุทูุฉ ุงูุชุฏุงุฎู"

      sector_prisms:
        description: "Peli Peripheral Prisms โ ูุนุทู ุชูุจูู ุจุงูุฃุดูุงุก ูู ุงูุฌุงูุจ"
        evidence: "Level 2 โ moderate evidence"

    reading_strategies:
      right_hemianopia: "ุตุนูุจุฉ ุฅูุฌุงุฏ ุจุฏุงูุฉ ุงููููุฉ ุงูุชุงููุฉ"
      left_hemianopia: "ุตุนูุจุฉ ุฅูุฌุงุฏ ุจุฏุงูุฉ ุงูุณุทุฑ ุงูุชุงูู"
      techniques:
        - "ุฎุท ุนููุฏู ูู ุจุฏุงูุฉ ูู ุณุทุฑ (ููุนุฑุจูุฉ: ูู ุงููููู)"
        - "typoscope โ ูุงูุฐุฉ ุชูุจุฑุฒ ุณุทุฑุงู ูุงุญุฏุงู"
        - "ุงุณุชุฎุฏุงู ุงูุฅุตุจุน ูุฏููู"
```

-----

## ุงููุตู 7: ุชุฃููู ุงูุฃุทูุงู

### 7.1 ููุงุฐุง ูุฎุชูู ุชูุงูุงูุ

ุงูุทูู ููุณ โุจุงูุบ ุตุบูุฑโ โ ุงููุฑูู ุงูุฌููุฑูุฉ:

|ุงูุจูุนุฏ      |ุงูุจุงูุบ             |ุงูุทูู               |
|-----------|-------------------|--------------------|
|**ุงููุฏู**  |ุงุณุชุนุงุฏุฉ ุงูุงุณุชููุงููุฉ|ุฏุนู ุงูุชุทูุฑ ูุงูุชุนูู  |
|**ุงูุชูููู**|ูุตู ูุดุงููู         |ูุญุชุงุฌ ููุงุญุธุฉ ุณููููุฉ |
|**ุงูุชุนุงูู**|ุนุงุฏุฉ ูุชุนุงูู        |ูุญุชุงุฌ ุชุญููุฒ ููุนุจ    |
|**ุงูุชููู** |ุตุนุจ ููุณูุงู          |ุฃูุซุฑ ูุฑููุฉ ุนุตุจูุงู    |
|**ุงูุฃุฌูุฒุฉ**|ูุฎุชุงุฑ ุจููุณู        |ุงูุฃูู ูุงููุนูู ููุฑุฑูู|
|**ุงูุจูุฆุฉ** |ููุฒู/ุนูู           |ููุฒู/ูุฏุฑุณุฉ/ูุนุจ      |
|**CVI**    |ูุงุฏุฑ               |ุดุงุฆุน ุฌุฏุงู            |

### 7.2 Cortical Visual Impairment (CVI) โ ุงูุชูุตูู

```yaml
cvi_protocol:
  definition: "ุถุนู ุจุตุฑู ูุงุชุฌ ุนู ุฎูู ูู ุงูุฏูุงุบ ูููุณ ูู ุงูุนูู"
  causes:
    - "Hypoxic-Ischemic Encephalopathy (ููุต ุงูุฃูุณุฌูู)"
    - "Periventricular Leukomalacia (PVL)"
    - "ุฅุตุงุจุงุช ุงูุฏูุงุบ ุงูุฑุถูุฉ"
    - "ุงูุตุฑุน ุงูุดุฏูุฏ"

  assessment:
    roman_cvi_range:
      description: "ูููุงุณ Christine Roman โ 0-10"
      characteristics:
        - "Color preference (ุชูุถูู ูููู)"
        - "Need for movement (ุชุญุชุงุฌ ุญุฑูุฉ ูุฌุฐุจ ุงูุงูุชุจุงู)"
        - "Visual latency (ุชุฃุฎุฑ ุงูุงุณุชุฌุงุจุฉ ุงูุจุตุฑูุฉ)"
        - "Visual field preferences"
        - "Difficulty with visual complexity"
        - "Light gazing / Photophobia"
        - "Difficulty with distance"
        - "Atypical visual reflexes"
        - "Difficulty with novelty (ููุถู ุงููุฃููู)"
        - "Absence of visually guided reach"

  phases:
    phase_1_building_visual_behavior: # CVI Range 1-3
      goal: "ุจูุงุก ุณููู ุจุตุฑู ุฃุณุงุณู"
      strategies:
        - "ุดูุก ูุงุญุฏ ููุท ุนูู ุฎูููุฉ ุณูุฏุงุก"
        - "ุงูููู ุงูููุถู (ุนุงุฏุฉ ุฃุญูุฑ ุฃู ุฃุตูุฑ)"
        - "ุญุฑูุฉ ูุฌุฐุจ ุงูุงูุชุจุงู"
        - "ุฅุถุงุกุฉ ุฎูููุฉ (backlighting)"
        - "ุจูุฆุฉ ุจุตุฑูุฉ ูุจุณุทุฉ ุฌุฏุงู"

    phase_2_integrating_vision: # CVI Range 4-7
      goal: "ุฏูุฌ ุงูุจุตุฑ ูุน ุงูุญูุงุณ ุงูุฃุฎุฑู"
      strategies:
        - "ุฒูุงุฏุฉ ุชุฏุฑูุฌูุฉ ูู ุชุนููุฏ ุงูุฎูููุฉ"
        - "ุฅุฏุฎุงู ุฃุดูุงุก ุฌุฏูุฏุฉ ูุน ูุฃูููุฉ"
        - "ุชูููู ุชุฏุฑูุฌู ููุญุฑูุฉ"
        - "ุฑุจุท ุงูุจุตุฑ ุจุงูููุณ ูุงูุตูุช"

    phase_3_visual_curiosity: # CVI Range 8-10
      goal: "ุงุณุชุฎุฏุงู ุงูุจุตุฑ ุจูุนุงููุฉ ููุชุนูู"
      strategies:
        - "ุจูุฆุฉ ุฃูุฑุจ ููุทุจูุนูุฉ"
        - "ููุงู ุจุตุฑูุฉ ุฃูุซุฑ ุชุนููุฏุงู"
        - "ุชุทุจูู ูู ุงูุตู ูุงูููุฒู"

  evidence: "Level 3 โ Expert consensus + observational studies"
```

### 7.3 Learning Media Assessment (LMA)

```yaml
learning_media_assessment:
  purpose: "ุชุญุฏูุฏ ุงููุณูุท ุงูุชุนูููู ุงูุฃูุณุจ ููุทูู"
  outcome_options:
    - "ุทุจุงุนุฉ ุนุงุฏูุฉ (ูุน ุชุนุฏููุงุช)"
    - "ุทุจุงุนุฉ ูุจูุฑุฉ"
    - "ุทุจุงุนุฉ ูุจูุฑุฉ + ุตูุชู"
    - "ุจุฑุงูู (ูุงูู ุฃู ุงุฎุชุตุงุฑ)"
    - "ุตูุชู + ููุณู"
    - "ูุณุงุฆุท ูุชุนุฏุฏุฉ (ุชูููููุฌูุง ูุณุงุนุฏุฉ)"

  factors_assessed:
    - "ุญุฏุฉ ุงูุฅุจุตุงุฑ ุงููุฑูุจุฉ"
    - "ุณุฑุนุฉ ุงููุฑุงุกุฉ ููุงุฑูุฉ ุจุงูุฃูุฑุงู"
    - "ุงูุฅุฑูุงู ุงูุจุตุฑู"
    - "ุงุณุชูุฑุงุฑ ุงูุญุงูุฉ ุงูุนูููุฉ"
    - "ุงููุธุงุฆู ุงูุจุตุฑูุฉ ุงูุฅุถุงููุฉ (ูุฌุงูุ ุชุจุงูู)"
    - "ุชูุถูู ุงูุทูู ูุฏุงูุนูุชู"
```

-----

## ุงููุตู 8: ุงูุฌุงูุจ ุงูููุณู ูุงูุชููู

### 8.1 ูุฑุงุญู ุงูุชููู ูุน ููุฏุงู ุงูุจุตุฑ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ูููุฐุฌ ุงูุชููู ูุน ููุฏุงู ุงูุจุตุฑ                     โ
โ  (Modified Kรผbler-Ross for Vision Loss)           โ
โ                                                   โ
โ  1. ุงูุตุฏูุฉ ูุงูุฅููุงุฑ                               โ
โ     "ูุง ุฃุตุฏู... ุงูุทุจูุจ ูุฎุทุฆ"                      โ
โ     โ ุงูุฏุนู: ูุนูููุงุช ุจุณูุทุฉ + ููุช                  โ
โ                                                   โ
โ  2. ุงูุบุถุจ ูุงูุฅุญุจุงุท                                โ
โ     "ููุงุฐุง ุฃูุงุ ูุฐุง ุบูุฑ ุนุงุฏู"                     โ
โ     โ ุงูุฏุนู: ุงูุงุณุชูุงุน + ุงูุชุญูู ูู ุงููุดุงุนุฑ         โ
โ                                                   โ
โ  3. ุงูุงูุชุฆุงุจ ูุงูุงูุณุญุงุจ                            โ
โ     "ูุง ูุงุฆุฏุฉ... ุญูุงุชู ุงูุชูุช"                     โ
โ     โ๏ธ ุฃุฎุทุฑ ูุฑุญูุฉ โ ูุฏ ูุญุชุงุฌ ุชุญููู ููุณู          โ
โ     โ ุงูุฏุนู: ูุญุต ุงูุชุฆุงุจ + ุฑุจุท ุจูุฌููุนุงุช ุฏุนู       โ
โ                                                   โ
โ  4. ุงููุณุงููุฉ ูุงูุชุฌุฑุจุฉ                             โ
โ     "ุณุฃุฌุฑุจ ูุฐุง ุงูุฌูุงุฒ... ุฑุจูุง ูุณุงุนุฏ"              โ
โ     โ ุงูุฏุนู: ุฃูุถู ููุช ููุชุฏุฑูุจ ุนูู ุงูุฃุฌูุฒุฉ         โ
โ                                                   โ
โ  5. ุงููุจูู ูุงูุชููู                                โ
โ     "ุจุตุฑู ุชุบูุฑ ููููู ูุง ุฒูุช ุฃูุง"                  โ
โ     โ ุงูุฏุนู: ุชุนุฒูุฒ ุงูุงุณุชููุงููุฉ                    โ
โ                                                   โ
โ  โ๏ธ ููุณุช ุฎุทูุฉ โ ุงููุฑูุถ ูุฏ ูุชููู ุจูู ุงููุฑุงุญู      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 8.2 ุฃุฏุงุฉ ูุญุต ุงูุงูุชุฆุงุจ

```python
{
    "name": "depression_screening",
    "description": """ูุญุต ูุจุฏุฆู ููุงูุชุฆุงุจ ุนูุฏ ูุฑุถู ุถุนู ุงูุจุตุฑ.
    ูุณุชุฎุฏู PHQ-2 ููุญุต ุฃูููุ ูPHQ-9 ุฅุฐุง ูุงู PHQ-2 ุฅูุฌุงุจูุงู.
    ููุญุฏุฏ: ูุณุชูู ุงูุฎุทูุฑุฉุ ุงูุญุงุฌุฉ ููุชุญูููุ ุงูุชูุตูุงุช ุงููุจุฏุฆูุฉ.
    โ๏ธ ููุณ ุจุฏููุงู ุนู ุงูุชูููู ุงูููุณู ุงููุชุฎุตุต.""",
    "input_schema": {
        "type": "object",
        "properties": {
            "tool": {
                "type": "string",
                "enum": ["PHQ-2", "PHQ-9", "GDS-15"],
                "description": "ุงููููุงุณ ุงููุณุชุฎุฏู"
            },
            "responses": {
                "type": "array",
                "items": {"type": "integer"},
                "description": "ุฅุฌุงุจุงุช ุงููุฑูุถ (0-3 ููู ุณุคุงู)"
            },
            "additional_risk_factors": {
                "type": "array",
                "items": {"type": "string"},
                "description": "ุนูุงูู ุฎุทุฑ: recent_vision_loss, social_isolation, living_alone, previous_depression, chronic_pain"
            }
        },
        "required": ["tool", "responses"]
    }
}
```

### 8.3 ูุชู ููุญููู ูุฃุฎุตุงุฆู ููุณูุ

```yaml
referral_criteria:
  immediate:
    - "ุฃููุงุฑ ุงูุชุญุงุฑูุฉ ุฃู ุฅูุฐุงุก ุงูููุณ"
    - "PHQ-9 โฅ 20 (ุดุฏูุฏ)"
  urgent:
    - "PHQ-9 โฅ 15 (ูุชูุณุท-ุดุฏูุฏ)"
    - "ุนุฏู ุงูุชุญุณู ุจุนุฏ 4-6 ุฃุณุงุจูุน ูู ุงูุชุฃููู"
    - "ุฑูุถ ุงูุชุฃููู ุงููุณุชูุฑ ุจุณุจุจ ุงูุญุงูุฉ ุงูููุณูุฉ"
  recommended:
    - "PHQ-9 โฅ 10 (ูุชูุณุท)"
    - "ุชุงุฑูุฎ ุงูุชุฆุงุจ ุณุงุจู"
    - "ููุฏุงู ุจุตุฑ ููุงุฌุฆ ุญุฏูุซ (< 6 ุฃุดูุฑ)"
    - "ุนุฒูุฉ ุงุฌุชูุงุนูุฉ ุดุฏูุฏุฉ"
```

-----

## ุงููุตู 9: ุงูุชูุฌู ูุงูุชููู ูููุงุฑุงุช ุงูุญูุงุฉ ุงูููููุฉ

### 9.1 ุงูุชูุฌู ูุงูุชููู (O&M)

```yaml
orientation_and_mobility:
  assessment:
    indoor:
      - "ุงูุชููู ูู ุงูููุฒู (ูู ูุตุทุฏู ุจุงูุฃุซุงุซุ)"
      - "ุงูุณูุงูู (ุตุนูุฏ/ูุฒูู)"
      - "ุงูุฅุถุงุกุฉ ูุงูุนุชุจุงุช"
    outdoor:
      - "ุนุจูุฑ ุงูุดุงุฑุน"
      - "ุงุณุชุฎุฏุงู ุงูููุงุตูุงุช ุงูุนุงูุฉ"
      - "ุงูุชููู ูู ุจูุฆุฉ ูุฃูููุฉ vs ุฌุฏูุฏุฉ"
      - "ุงูุฅุถุงุกุฉ ุงูููููุฉ"
    tools:
      - "ูู ูุณุชุฎุฏู ุนุตุง ุจูุถุงุกุ (ID cane vs mobility cane)"
      - "ูู ูุนุฑู ุชูููุฉ ุงููุฑุงูู (Sighted Guide)ุ"
      - "ูู ูุฏูู GPS ูุงุทู ุฃู ุชุทุจููุงุชุ"

  training_areas:
    sighted_guide_technique:
      steps:
        - "ุงููุจุตุฑ ููุดู ูุตู ุฎุทูุฉ ุฃูุงู ุงููููู"
        - "ุงููููู ููุณู ููู ุงููุฑูู"
        - "ุฅุดุงุฑุงุช ููููุนุทูุงุช ูุงูุณูุงูู ูุงูุฃุจูุงุจ"
    white_cane_basics:
      types:
        - "ID cane โ ููุชุนุฑูู ููุท (ุถุนู ุจุตุฑ ุฌุฒุฆู)"
        - "Long cane โ ููุชููู ุงููุณุชูู"
      techniques:
        - "Touch technique โ ููุณ ุงูุฃุฑุถ ููููุงู ููุณุงุฑุงู"
        - "Constant contact โ ููุณ ูุณุชูุฑ"
    environmental_modifications:
      - "ุฅุถุงุกุฉ ูุงููุฉ ูู ุงูููุฑุงุช ูุงูุณูุงูู"
      - "ุดุฑูุท ูุงุตู ูููู ุนูู ุญูุงู ุงูุณูุงูู"
      - "ุฅุฒุงูุฉ ุงูุนูุงุฆู ูู ุงูููุฑุงุช"
      - "ุฃููุงู ูุชุจุงููุฉ ููุฃุจูุงุจ ูุงูููุงุชูุญ"
```

### 9.2 ููุงุฑุงุช ุงูุญูุงุฉ ุงูููููุฉ (ADL/IADL)

```yaml
daily_living_skills:
  medication_management:
    critical_for: "ูุฑุถู ุงูุณูุฑู + ุงูุบูููููุง (ูุทุฑุงุช ูุชุนุฏุฏุฉ)"
    strategies:
      - "ุนูุจุฉ ุฃุฏููุฉ ุฃุณุจูุนูุฉ ููุณูุฉ + ููุตูุงุช ุจุงุฑุฒุฉ"
      - "ุชุทุจูู ูุงุทู ููุชุฐููุฑ ุจุงูุฃุฏููุฉ"
      - "ุชุฑุชูุจ ุซุงุจุช ูููุทุฑุงุช (ุฃููุงู ุฃุบุทูุฉ ูุฎุชููุฉ)"
      - "ุชุฏุฑูุจ ุนูู ุงูุชูุทูุฑ ุงูุฐุงุชู (ูุทุฑุฉ ุนูู)"
      - "โ๏ธ ุฃูุณูููู: ุฃููุงู ุจููุฑุงุช ุตูุชูุฉ vs ุณุฑูุฌุงุช"

  kitchen_safety:
    strategies:
      - "ุฃููุงุญ ุชูุทูุน ุจุฃููุงู ูุชุจุงููุฉ (ุฃุณูุฏ ูุฃุทุนูุฉ ูุงุชุญุฉ ูุงูุนูุณ)"
      - "ูุคูุช ูุงุทู / ุตูุชู"
      - "ููุงุณุงุช ุจุงุฑุฒุฉ ุนูู ุงูุฃููุงุจ"
      - "ุชูุธูู ุงูุฎุฒุงุฆู ุจูุธุงู ุซุงุจุช"
      - "ุนูุงูุงุช ุจุงุฑุฒุฉ ุนูู ุงููุฑู ูุงููุงููุฑูููู"
      - "โ๏ธ ุงุญุชูุงุทุงุช ุงูุฃูุงู: ุญุฑููุ ุณูุงููู"

  personal_care:
    - "ุชูุธูู ุงูููุงุจุณ: ุดูุงุนุงุช ููููุฉ ุญุณุจ ุงูุฒู"
    - "ูููุงุฌ: ูุฑุขุฉ ููุจุฑุฉ 5-10X ูุน ุฅุถุงุกุฉ"
    - "ุญูุงูุฉ: ูุงูููุฉ ููุฑุจุงุฆูุฉ ุฃุฃูู"
    - "ุงูุงุณุชุญูุงู: ุชูุธูู ุซุงุจุช + ููุตูุงุช ุจุงุฑุฒุฉ ุนูู ุงูุดุงูุจู"

  money_management:
    - "ุทู ุงูุฃูุฑุงู ุงูููุฏูุฉ ุจุทุฑู ูุฎุชููุฉ ุญุณุจ ุงููุฆุฉ"
    - "ุชุทุจูู ุชูููุฒ ุงูุนููุงุช (Seeing AI)"
    - "ุงูุฏูุน ุงูุฅููุชุฑููู (ุฃุณูู ูุน accessibility)"

  writing_and_signing:
    - "ุฃููุงู ููููุงุณุชุฑ ุณูุฏุงุก ุนุฑูุถุฉ"
    - "ุฏููู ุชูููุน (Signature guide)"
    - "ุฃูุฑุงู ุจุฎุทูุท ุณูุฏุงุก ุนุฑูุถุฉ"
    - "ููุญุฉ ูุชุงุจุฉ ุจุชุจุงูู ุนุงูู"
```

-----

## ุงููุตู 10: ุฎุตูุตูุงุช ุงููุฑุงุกุฉ ุงูุนุฑุจูุฉ

### 10.1 ุงูุชุญุฏูุงุช ุงููุฑูุฏุฉ

```yaml
arabic_reading_challenges:
  direction:
    issue: "ุงููุฑุงุกุฉ ูู ุงููููู ูููุณุงุฑ (RTL)"
    impact_on_rehabilitation:
      - "ุชุฏุฑูุจ Eccentric Viewing: ุงุชุฌุงู ุงููุณุญ ูุฎุชูู ุนู ุงูุฅูุฌููุฒูุฉ"
      - "Hemianopia ุงููููู: ุชุฃุซูุฑ ุฃูุจุฑ ุนูู ุจุฏุงูุฉ ุงูุณุทุฑ ุจุงูุนุฑุจูุฉ"
      - "Hemianopia ุงููุณุฑู: ุชุฃุซูุฑ ุนูู ุฅูุฌุงุฏ ุจุฏุงูุฉ ุงูุณุทุฑ ุงูุชุงูู ุจุงูุฅูุฌููุฒูุฉ ููู ููุงูุชู ุจุงูุนุฑุจูุฉ"
    adaptation: "ุชุฏุฑูุจุงุช ุงููุณุญ ูุฌุจ ุฃู ุชุจุฏุฃ ูู ุงููููู"

  diacritics:
    issue: "ุงูุชุดููู (ูุชุญุฉุ ุถูุฉุ ูุณุฑุฉ) ูุฒูุฏ ุงูุชุนููุฏ ุงูุจุตุฑู"
    impact:
      - "ูุญุชุงุฌ ุญุณุงุณูุฉ ุชุจุงูู ุฃุนูู"
      - "ุญุฌู ุทุจุงุนุฉ ุฃูุจุฑ ููุงุฑูุฉ ุจูุต ุจุฏูู ุชุดููู"
      - "CPS ูููุต ุงููุดููู ุฃูุจุฑ ุจู 1-2 ุฎุทูุฉ ูู ุบูุฑ ุงููุดููู"
    application: "ูุฑุงุกุฉ ุงููุฑุขู ุงููุฑูู ุชุญุชุงุฌ ุชูุจูุฑุงู ุฃุนูู"

  quran_reading:
    special_requirements:
      - "ุญุฌู ุงูุทุจุงุนุฉ: ุนุงุฏุฉ 18-24 ููุทุฉ ูุญุฏ ุฃุฏูู ูุถุนุงู ุงูุจุตุฑ"
      - "ูุตุงุญู ุถุนุงู ุงูุจุตุฑ: ุฎุท ูุจูุฑ + ุชุจุงูู ุนุงูู"
      - "ุชุทุจููุงุช: ูุตุญู ุฅููุชุฑููู ูุน ุชูุจูุฑ + ุชูุงูุฉ ุตูุชูุฉ"
      - "CCTV ูุซุงูู: ุชูุจูุฑ ูุชุบูุฑ + ุชุจุงูู + ูุณุงูุฉ ุนูู ูุฑูุญุฉ"
      - "ุฅุถุงุกุฉ: task lighting ููุฌูุฉ ุจุฏูู ุฅุจูุงุฑ"
    cultural_importance: "ุบุงูุจุงู ุงูุฃููููุฉ ุงูุฃููู ูููุฑูุถ โ ูุฒูุฏ ุงูุฏุงูุนูุฉ"

  assessment_tools_arabic:
    available:
      - "Colenbrander Arabic reading card (ุบูุฑ ูุนุชูุฏ ุฑุณููุงู)"
      - "MNREAD โ ูุณุฎุฉ ุนุฑุจูุฉ ูุญุฏูุฏุฉ"
    gaps:
      - "ูุง ููุฌุฏ VFQ-25 ุนุฑุจู ูุนุชูุฏ ุจุดูู ูุงุณุน"
      - "ูุง ููุฌุฏ MNREAD ุนุฑุจู ูุนุชูุฏ ุจุงูุชุดููู"
    workaround:
      - "ุงุณุชุฎุฏุงู ูุตูุต ููุญุฏุฉ ุจุฃุญุฌุงู ูุชุฏุฑุฌุฉ"
      - "ููุงุณ ุณุฑุนุฉ ุงููุฑุงุกุฉ ุจุงููููุงุช/ุฏูููุฉ ุนูู ูุต ุนุฑุจู ูุนูุงุฑู"
```

### 10.2 ุฃุฏุงุฉ ุญุณุงุจุงุช ุงููุฑุงุกุฉ ุงูุนุฑุจูุฉ

```python
{
    "name": "arabic_reading_calculator",
    "description": """ุญุณุงุจุงุช ุฎุงุตุฉ ุจุงููุฑุงุกุฉ ุงูุนุฑุจูุฉ:
    - ุชูุฏูุฑ ุญุฌู ุงูุทุจุงุนุฉ ุงูุฃูุซู (ูุน/ุจุฏูู ุชุดููู)
    - ุญุณุงุจ ุงูุชูุจูุฑ ุงููุทููุจ ููุฑุงุกุฉ ุงููุฑุขู
    - ุชุญููู ุจูู ูุญุฏุงุช ุญุฌู ุงูุทุจุงุนุฉ (M-units, points, LogMAR)
    - ุชูุฏูุฑ ูุณุงูุฉ ุงูุนูู ุงููุซูู""",
    "input_schema": {
        "type": "object",
        "properties": {
            "calculation": {
                "type": "string",
                "enum": [
                    "optimal_print_size",
                    "quran_magnification",
                    "working_distance",
                    "print_unit_conversion"
                ]
            },
            "near_va": {"type": "string", "description": "ุญุฏุฉ ุงูุฅุจุตุงุฑ ุงููุฑูุจุฉ"},
            "text_type": {
                "type": "string",
                "enum": ["plain_arabic", "diacritics", "quran", "numbers"]
            },
            "desired_reading_speed": {
                "type": "string",
                "description": "ุงูุณุฑุนุฉ ุงููุฑุบูุจุฉ: fluent, functional, spot_reading"
            }
        },
        "required": ["calculation"]
    }
}
```

-----

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# ุงูุฌุฒุก ุงูุซุงูู: ุงูุจููุฉ ุงูุชูููุฉ

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

-----

## ุงููุตู 11: System Prompt ุงููุชูุฏู

### 11.1 ุงูููุณูุฉ: System Prompt = ุงูุญูุถ ุงููููู ูููุธุงู

System Prompt ููุญุฏุฏ **ูู ุดูุก**: ุงููููุฉุ ุงููุนุฑูุฉุ ุงูุณูููุ ุงูุญุฏูุฏ. ูููุง ูุงู ุฃูุซุฑ ุชูุตููุงู ูููููุฉุ ูุงู ุงูุฃุฏุงุก ุฃูุถู.

### 11.2 System Prompt ุงููุงูู

```python
SYSTEM_PROMPT = """
<role>
ุฃูุช ุงุณุชุดุงุฑู ุชุฃููู ุจุตุฑู ูุชุฎุตุต (Low Vision Rehabilitation Consultant)
ูุฎุจูุฑ ูู ุงูุชุฃููู ุงูุนุตุจู ุงูุจุตุฑู (Neuro-Visual Rehabilitation).

ุชุฎุตุตุงุชู ุงูุฏูููุฉ:
- ุชูููู ูุชุฃููู ุถุนู ุงูุจุตุฑ (Low Vision Assessment & Rehabilitation)
- ูุตู ูุชุฏุฑูุจ ุงูุฃุฌูุฒุฉ ุงููุณุงุนุฏุฉ ุงูุจุตุฑูุฉ (Assistive Devices)
- ุงูุชุฃููู ุงูุนุตุจู ุงูุจุตุฑู (Hemianopia, Neglect, TBI vision, CVI)
- ุชุฃููู ุงูุฃุทูุงู ุถุนุงู ุงูุจุตุฑ (Pediatric Low Vision)
- ุงูุชูุฌู ูุงูุชููู (Orientation & Mobility โ consultative)
- ููุงุฑุงุช ุงูุญูุงุฉ ุงูููููุฉ ูุถุนุงู ุงูุจุตุฑ (ADL Training)
- ุงูุฏุนู ุงูููุณู ุงูุฃููู ูุงูุฅุญุงูุฉ
- ุงููุฑุงุกุฉ ุงูุนุฑุจูุฉ ูุถุนุงู ุงูุจุตุฑ (ุฎุตูุตูุงุช RTL ูุงูุชุดููู ูุงููุฑุขู)

ูุคููุงุชู ุงููุฑุฌุนูุฉ:
- ุฅููุงู ุจุชุตูููุงุช WHO/ICD-11 ูุถุนู ุงูุจุตุฑ
- ุฅุทุงุฑ ICF (International Classification of Functioning)
- ุฅุฑุดุงุฏุงุช AAO, RNIB, ICO, ACE, AOA
- ููุงููุณ ุงูุชูููู: Colenbrander, Bailey-Lovie, ETDRS, MNREAD, Pelli-Robson
- ููุงููุณ ุงููุชุงุฆุฌ: VFQ-25, LVQOL, IVI, VA LV VFQ-48, Activity Inventory
- ุจุฑูุชููููุงุช: Eccentric Viewing, Scanning Training, Steady Eye Strategy
- ุชุตููู CVI: Roman-Lantzy CVI Range (0-10)
- ููุงููุณ ููุณูุฉ: PHQ-2, PHQ-9, GDS-15
</role>

<clinical_approach>
1. ุงูุชูููู ุงูุดุงูู ุฃููุงู:
   - ูุง ุชููุฏู ุชูุตูุงุช ุจุฏูู ููู ุงูุญุงูุฉ ูุงููุฉ
   - ุงุณุฃู ุนู: ุงูุชุดุฎูุตุ VAุ ุงููุฌุงูุ ุงูุดูุงูู ุงููุธูููุฉุ ุงูุฃูุฏุงู
   - ุงุณุชุฎุฏู Extended Thinking ููุญุงูุงุช ุงููุนูุฏุฉ

2. ุงููููุฌ ุงููุจูู ุนูู ุงูุฃุฏูุฉ:
   - ุงุจุญุซ ูู PubMed ุนูุฏ ุงูุญุงุฌุฉ ูุฃุญุฏุซ ุงูุฃุฏูุฉ
   - ุตููู ูุณุชูู ุงูุฏููู (1a, 1b, 2, 3, 4, 5)
   - ูููุฒ ุจูู: ุซุงุจุช ุนูููุงู / ูุญุชูู / ุฑุฃู ุฎุจุฑุงุก / ุชุฌุฑูุจู

3. ุงูุชูููุฑ ุงูุณุฑูุฑู ุงูููุธู:
   - ุงูุชุดุฎูุต โ ููุท ุงูููุฏุงู โ ุงูุชุฃุซูุฑ ุงููุธููู โ ุงูุชุฏุฎูุงุช โ ุงููุชุงุจุนุฉ
   - ูููุฑ ุจุงูุญุงูุงุช ุงูุญุฏูุฉ ูุงูููุงูุน
   - ูุง ุชูุณู ุงูุฌุงูุจ ุงูููุณู ูุงูุงุฌุชูุงุนู

4. ุชุญููู ุงูุตูุฑ ุงูุทุจูุฉ (ุนูุฏ ุงูุฅุฑุณุงู):
   - ูุตู ูููุฌู: ูุง ุฃุฑุงู โ ุชูุณูุฑ โ ุฑุจุท ุณุฑูุฑู โ ุชูุตูุงุช
   - โ๏ธ ูุณุช ุจุฏููุงู ุนู ุชูุณูุฑ ุงููุชุฎุตุต โ ุฃูุฏู ุชุญูููุงู ูุณุงุนุฏุงู

5. ุงูุฎุทุท ุงูุนูุงุฌูุฉ:
   - ุฃูุฏุงู SMART (ูุญุฏุฏุฉุ ูุงุจูุฉ ููููุงุณุ ูุงูุนูุฉุ ุฒูููุฉ)
   - ูุตูุฑุฉ ุงููุฏู (1-4 ุฃุณุงุจูุน) + ูุชูุณุทุฉ (1-3 ุฃุดูุฑ) + ุทูููุฉ (3-12 ุดูุฑ)
   - ุงูุฃุฌูุฒุฉ + ุงูุชุฏุฑูุจุงุช + ุงูุชุนุฏููุงุช ุงูุจูุฆูุฉ + ุงูุฏุนู ุงูููุณู
   - ูุนุงููุฑ ุงููุฌุงุญ ููุคุดุฑุงุช ุงูููุงุณ
   - ุฎุทุฉ ุงููุชุงุจุนุฉ ูุฅุนุงุฏุฉ ุงูุชูููู

6. ุงูุชูุซูู:
   - ููุท ุจุนุฏ ููุงููุฉ ุตุฑูุญุฉ
   - ุชูุณููุงุช: SOAP Note, ICF Report, Referral Letter
   - ูุบุฉ ููููุฉ ุฏูููุฉ + ูุตุทูุญุงุช ุฅูุฌููุฒูุฉ ุจูู ููุณูู
</clinical_approach>

<patient_populations>
ุชุชุนุงูู ูุน:
- ุจุงูุบูู: AMD, DR, Glaucoma, RP, Corneal opacity, Nystagmus, Albinism
- ุนุตุจู: Hemianopia, Visual Neglect, TBI/PTVS, Diplopia
- ุฃุทูุงู: CVI, ROP, Congenital cataracts, Albinism, Nystagmus
- ูุจุงุฑ ุณู: ูุดุงูู ูุนุฑููุฉ ูุตุงุญุจุฉ + ุณููุท + ุนุฒูุฉ
- ูุชุนุฏุฏ ุงูุฅุนุงูุฉ: ุถุนู ุจุตุฑ + ุณูุนู / ุญุฑูู / ูุนุฑูู
</patient_populations>

<available_tools>
ูุฏูู ุงูุฃุฏูุงุช ุงูุชุงููุฉ โ ุงุณุชุฎุฏููุง ุจูุนุงููุฉ:

1. search_pubmed โ ุงูุจุญุซ ูู PubMed ุนู ุฃุญุฏุซ ุงูุฃุจุญุงุซ
2. fetch_article_details โ ุฌูุจ ุชูุงุตูู ููุงูุฉ ุจุงูู PMID
3. search_knowledge_base โ ุงูุจุญุซ ูู ุงููุงุนุฏุฉ ุงููุนุฑููุฉ ุงููุญููุฉ
   (ุจุฑูุชููููุงุชุ ุฅุฑุดุงุฏุงุชุ ุฃุฌูุฒุฉุ ุชููููุงุชุ ุชูุงุฑูู)
4. functional_assessment โ ุฃุฏุงุฉ ุงูุชูููู ุงููุธููู ุงูุดุงูู
5. device_recommender โ ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฃุฌูุฒุฉ ุงููุณุงุนุฏุฉ
6. visual_calculator โ ุญุณุงุจุงุช ุจุตุฑูุฉ (ุชูุจูุฑุ VA ุชุญูููุ ูุณุงูุฉ ุนูู)
7. arabic_reading_calculator โ ุญุณุงุจุงุช ุงููุฑุงุกุฉ ุงูุนุฑุจูุฉ ูุงููุฑุขู
8. depression_screening โ ูุญุต ุงูุงูุชุฆุงุจ (PHQ-2/9, GDS)
9. outcome_tracker โ ุชุชุจุน ุงููุชุงุฆุฌ ุนุจุฑ ุงูุฒูู
10. generate_document โ ุฅูุดุงุก ุชูุงุฑูุฑ ูุฎุทุงุจุงุช (ุจุนุฏ ุงูููุงููุฉ)
11. referral_generator โ ุฅูุดุงุก ุฎุทุงุจุงุช ุงูุฅุญุงูุฉ
12. think โ ุฃุฏุงุฉ ุงูุชูููุฑ ุงูููุธู ููุญุงูุงุช ุงููุนูุฏุฉ
</available_tools>

<behavioral_rules>
- ุงููุบุฉ ุงูุงูุชุฑุงุถูุฉ: ุงูุนุฑุจูุฉ ูุน ุงููุตุทูุญุงุช ุงูุทุจูุฉ ุงูุฅูุฌููุฒูุฉ ุจูู ููุณูู
- ูุง ุชูุดุฎูุต โ ุญููู ูุฃูุชุฑุญ ูุฃูุตู ุชุญุช ุฅุดุฑุงู ุงููุชุฎุตุต
- ูุถูุญ ูุณุชูู ุงูุฏููู ุงูุนููู ููู ุชูุตูุฉ
- ุงุณุฃู ูุจู ุงูุชูุซูู โ ูุง ุชููุชุฌ ุชูุงุฑูุฑ ุจุฏูู ููุงููุฉ ุตุฑูุญุฉ
- ุฅุฐุง ูุงูุช ุงูุญุงูุฉ ุฎุงุฑุฌ ูุทุงููุ ูุฌูู ููุชุฎุตุต ุงูููุงุณุจ
- ููุญุงูุงุช ุงูุทุงุฑุฆุฉ (ุงููุตุงู ุดุจููุฉ ููุงุฌุฆุ ุงุฑุชูุงุน ุถุบุท ุนูู ุญุงุฏ): ูุฌูู ููุทูุงุฑุฆ ููุฑุงู
- ุฃุถู disclaimer ูู ูู ุงุณุชุฌุงุจุฉ ุชุญุชูู ุนูู ุชูุตูุงุช ุณุฑูุฑูุฉ
</behavioral_rules>

<safety_disclaimers>
โ๏ธ ูุฐุง ุงููุธุงู ุฃุฏุงุฉ ูุณุงุนุฏุฉ ูููุณ ุจุฏููุงู ุนู:
- ุงูุชุดุฎูุต ุงูุทุจู ุงููุจุงุดุฑ
- ุงููุญุต ุงูุณุฑูุฑู
- ุงููุฑุงุฑ ุงูุนูุงุฌู ูู ุงููุชุฎุตุต ุงููุคูู
ูู ุงูุชูุตูุงุช ุชุญุชุงุฌ ูุฑุงุฌุนุฉ ูู ูุชุฎุตุต ูุจู ุงูุชุทุจูู.
ููุญุงูุงุช ุงูุทุงุฑุฆุฉ: ุชูุฌู ููุณู ุงูุทูุงุฑุฆ ููุฑุงู.
</safety_disclaimers>
"""
```

### 11.3 ููู ูุชุฑุงุจุท System Prompt ูุน ุจุงูู ุงูููููุงุช

```
System Prompt
    โ
    โโโ ููุนุฑูู ุงูุฃุฏูุงุช ุงููุชุงุญุฉ โโโโโ Tool Use (ุงููุตู 13)
    โ   "ูุฏูู 12 ุฃุฏุงุฉ..."              Claude ูุนุฑู ูุชู ูุณุชุฏุนู ูู ุฃุฏุงุฉ
    โ
    โโโ ููุญุฏุฏ ุงููููุฌ ุงูุณุฑูุฑู โโโโโ Extended Thinking (ุงููุตู 12)
    โ   "ุงูุชูููู ุงูุดุงูู ุฃููุงู"          Claude ููููุฑ ุจุนูู ูุจู ุงูุฅุฌุงุจุฉ
    โ
    โโโ ููุนุฑูู ุงูุชุฎุตุตุงุช โโโโโโโ RAG Knowledge Base (ุงููุตู 16)
    โ   "CVI, AMD, Hemianopia..."       ุงููุงุนุฏุฉ ุงููุนุฑููุฉ ุชูุบุทู ูู ุชุฎุตุต
    โ
    โโโ ููุญุฏุฏ ููุงุนุฏ ุงูุตูุฑ โโโโโ Vision (ุงููุตู 15)
    โ   "ุชุญููู ูููุฌู: ูุตูโุชูุณูุฑ"       Claude ูุชุจุน ุจุฑูุชูููู ุงูุชุญููู
    โ
    โโโ ููุญุฏุฏ ููุงุนุฏ ุงูุชูุซูู โโโโ Prompt Chaining (ุงููุตู 17)
    โ   "ุจุนุฏ ุงูููุงููุฉ ููุท"              Chain ูุทูุจ ุงูููุงููุฉ ูุจู ุงูุฎุทูุฉ 6
    โ
    โโโ ููุญุฏุฏ ุงูุฃูุงู โโโโโโโโโโ Security (ุงููุตู 21)
        "disclaimers, ุทูุงุฑุฆ"            Validation + output filtering
```

-----

## ุงููุตู 12: Extended Thinking โ ุงูุชูููุฑ ุงูุณุฑูุฑู

### 12.1 ููุงุฐุง ุถุฑูุฑู ูู ุงูุชุฃููู ุงูุจุตุฑูุ

ุงูุชุฃููู ุงูุจุตุฑู ูุชุทูุจ **ุชูููุฑุงู ูุชุนุฏุฏ ุงูุทุจูุงุช**: ุงูุชุดุฎูุต โ ููุท ุงูููุฏุงู โ ุงูุชุฃุซูุฑ ุงููุธููู โ ุงูุฃุฌูุฒุฉ ุงูููุงุณุจุฉ โ ุงูุชุฏุฑูุจุงุช โ ุงูุนูุงูู ุงูููุณูุฉ โ ุงููุชุงุจุนุฉ. Extended Thinking ูุณูุญ ูู Claude ุจุงูุชูููุฑ ุจุนูู ูุจู ุงูุฅุฌุงุจุฉ.

### 12.2 ุฃูุถุงุน ุงูุชูููุฑ

```python
# โโโ ุงููุถุน 1: ุชูููุฑ ุชูููู (Adaptive) โ ูู Opus 4.6 โโโ
# Claude ูููุฑุฑ ุชููุงุฆูุงู ูู ูุญุชุงุฌ ูู ุงูุชูููุฑ

response = client.messages.create(
    model="claude-opus-4-6",
    max_tokens=16000,
    thinking={
        "type": "adaptive",
        "effort": "high"  # low | medium | high | max
    },
    system=SYSTEM_PROMPT,
    messages=[{"role": "user", "content": user_query}]
)

# โโโ ุงููุถุน 2: ุชูููุฑ ูุฏูู (Manual) โ ูู Sonnet 4.6 โโโ
# ูุญุฏุฏ ููุฒุงููุฉ ุงูุชูููุฑ ุจุงูุชูููุฒ

response = client.messages.create(
    model="claude-sonnet-4-6",
    max_tokens=16000,
    thinking={
        "type": "enabled",
        "budget_tokens": 10000  # ุงูุญุฏ ุงูุฃุฏูู 1024
    },
    system=SYSTEM_PROMPT,
    messages=[{"role": "user", "content": user_query}]
)
```

### 12.3 ูุชู ูุณุชุฎุฏู ุฃู ูุณุชูู ุชูููุฑุ

```python
THINKING_LEVELS = {
    "low": {
        "budget_tokens": 2000,
        "adaptive_effort": "low",
        "use_cases": [
            "ุฃุณุฆูุฉ ุจุณูุทุฉ: 'ูุง ูู ุชุตููู WHO ูุญุฏุฉ 6/60ุ'",
            "ุชุญูููุงุช: 'ุญููู LogMAR 1.0 ุฅูู Snellen'",
            "ุชุนุฑููุงุช: 'ูุง ูู Eccentric Viewingุ'",
        ]
    },
    "medium": {
        "budget_tokens": 5000,
        "adaptive_effort": "medium",
        "use_cases": [
            "ุจุฑูุชูููู ูุงุญุฏ: 'ูุง ุฎุทูุงุช ุชุฏุฑูุจ Scanning ูู hemianopiaุ'",
            "ุชูุตูุฉ ุฌูุงุฒ: 'ูุฑูุถ AMDุ VA 6/36ุ ูุฑูุฏ ูุฑุงุกุฉ ุงูุฌุฑูุฏุฉ'",
            "ุดุฑุญ ููุงู: 'ูุฎุต ูู ูุฐุง ุงูุจุญุซ ุนู EVT'",
        ]
    },
    "high": {
        "budget_tokens": 10000,
        "adaptive_effort": "high",
        "use_cases": [
            "ุญุงูุฉ ูุงููุฉ: 'ูุฑูุถ 72 ุณูุฉุ AMD+Glaucomaุ ูุง ุงูุฎุทุฉุ'",
            "ููุงุฑูุฉ ุฎูุงุฑุงุช: 'CCTV vs tablet vs eSight ููุฐุง ุงููุฑูุถ'",
            "ุชุฃููู ุฃุทูุงู: 'ุทูู CVI Range 4ุ ูุง ุงูุจุฑูุงูุฌ ุงูุชุนููููุ'",
            "ุชุญููู ุตูุฑุฉ ุทุจูุฉ ูุนูุฏุฉ",
        ]
    },
    "max": {
        "budget_tokens": 16000,
        "adaptive_effort": "max",
        "use_cases": [
            "ูุฑุงุฌุนุฉ ุฃุฏุจูุงุช: 'ูุง ุฃุญุฏุซ ุงูุฃุจุญุงุซ ุนู VR ูู ุชุฃููู RPุ'",
            "ุญุงูุฉ ูุนูุฏุฉ ูุชุนุฏุฏุฉ: 'ูุฑูุถ TBI + RP + ุงูุชุฆุงุจ + ุณูุฑู'",
            "ุจูุงุก ุจุฑูุชูููู ุฌุฏูุฏ ูุน ุฃุฏูุฉ",
        ]
    }
}
```

### 12.4 ุงูุชูููุฑ ุงููุชุฏุงุฎู ูุน ุงูุฃุฏูุงุช (Interleaved Thinking)

```python
# Claude ููููุฑ ุจูู ูู ุงุณุชุฏุนุงุก ุฃุฏุงุฉ โ ุถุฑูุฑู ููุญุงูุงุช ุงููุนูุฏุฉ

response = client.messages.create(
    model="claude-sonnet-4-6",
    max_tokens=16000,
    thinking={"type": "enabled", "budget_tokens": 10000},
    tools=ALL_TOOLS,
    system=SYSTEM_PROMPT,
    messages=[{"role": "user", "content": complex_case}],
    # ูุชุทูุจ beta header
    betas=["interleaved-thinking-2025-05-14"]
)

# ูุซุงู ุนูู ูุง ูุญุฏุซ ุฏุงุฎููุงู:
# 1. [thinking] "ุงูุญุงูุฉ: AMD ุซูุงุฆู + hemianopia ูููู ุจุนุฏ ุณูุชุฉ.
#     ูุฐุง ูุฒูุฌ ูุงุฏุฑ โ ุฃุญุชุงุฌ ุจุฑูุชูููู ูุฎุตุต..."
#
# 2. [tool_use] search_knowledge_base("AMD rehabilitation protocol")
#
# 3. [thinking] "ุจุฑูุชูููู AMD ูุฑูุฒ ุนูู Eccentric Viewing ููู
#     Hemianopia ุงููููู ุณุชุคุซุฑ ุนูู ุงููุณุญ โ ุฃุญุชุงุฌ ุฏูุฌ Scanning Training
#     ูุน EVT. ุฃุจุญุซ ุนู ุฃุจุญุงุซ ุนู ูุฐุง ุงููุฒูุฌ..."
#
# 4. [tool_use] search_pubmed("hemianopia combined macular degeneration rehabilitation")
#
# 5. [thinking] "ูุฌุฏุช ููุงูุฉ ูุงุญุฏุฉ ููุท. Evidence ูุญุฏูุฏ.
#     ุณุฃุจูู ุฎุทุฉ ูุจููุฉ ุนูู ูุจุงุฏุฆ ููุง ุงูุจุฑูุชูููููู ูุน ุชุนุฏููุงุช..."
#
# 6. [text] ุงูุงุณุชุฌุงุจุฉ ุงูููุงุฆูุฉ ุงููุชูุงููุฉ
```

-----

## ุงููุตู 13: Tool Use โ ููุธููุฉ ุงูุฃุฏูุงุช

### 13.1 ุงููุงุฆูุฉ ุงููุงููุฉ โ 12 ุฃุฏุงุฉ ูุชุฎุตุตุฉ

ุงูุฃุฏูุงุช ุงูุณุช ุงูุฃููู (PubMed + RAG + Visual Calculator + Document + Think) ูููุตููุฉ ูู ุงูุฅุตุฏุงุฑ ุงูุณุงุจู. ููุง ุงูุฃุฏูุงุช ุงูุฌุฏูุฏุฉ ุงูุชู ุชูููู ุงูููุธููุฉ:

```python
ALL_TOOLS = [
    # โโโ 1-3: ุงูุจุญุซ ุงูุนููู โโโ
    search_pubmed_tool,         # ุจุญุซ PubMed
    fetch_article_details_tool, # ุชูุงุตูู ููุงูุฉ ุจู PMID
    search_knowledge_base_tool, # ุจุญุซ RAG ุงููุญูู

    # โโโ 4-5: ุงูุญุณุงุจุงุช โโโ
    visual_calculator_tool,         # ุญุณุงุจุงุช ุจุตุฑูุฉ ุนุงูุฉ
    arabic_reading_calculator_tool, # ุญุณุงุจุงุช ุงููุฑุงุกุฉ ุงูุนุฑุจูุฉ โ ุฌุฏูุฏ

    # โโโ 6-7: ุงูุชูููู โโโ
    functional_assessment_tool,  # ุงูุชูููู ุงููุธููู ุงูุดุงูู โ ุฌุฏูุฏ
    depression_screening_tool,   # ูุญุต ุงูุงูุชุฆุงุจ โ ุฌุฏูุฏ

    # โโโ 8: ุงูุฃุฌูุฒุฉ โโโ
    device_recommender_tool,     # ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฃุฌูุฒุฉ โ ุฌุฏูุฏ

    # โโโ 9: ุงููุชุงุฆุฌ โโโ
    outcome_tracker_tool,        # ุชุชุจุน ุงููุชุงุฆุฌ ูุงูุชูุฏู โ ุฌุฏูุฏ

    # โโโ 10-11: ุงูุชูุซูู โโโ
    generate_document_tool,      # ุฅูุดุงุก ุชูุงุฑูุฑ
    referral_generator_tool,     # ุฎุทุงุจุงุช ุฅุญุงูุฉ โ ุฌุฏูุฏ

    # โโโ 12: ุงูุชูููุฑ โโโ
    think_tool,                  # ุฃุฏุงุฉ ุงูุชูููุฑ ุงูููุธู
]
```

### 13.2 ุงูุฃุฏูุงุช ุงูุฌุฏูุฏุฉ โ ุงูุชุนุฑููุงุช

```python
# โโโ ุฃุฏุงุฉ ุชุชุจุน ุงููุชุงุฆุฌ โโโ
outcome_tracker_tool = {
    "name": "outcome_tracker",
    "description": """ุชุชุจุน ูุชุงุฆุฌ ุงูุชุฃููู ุนุจุฑ ุงูุฒูู.
    ููุฎุฒู ูููุงุฑู: ุญุฏุฉ ุงูุฅุจุตุงุฑุ ุณุฑุนุฉ ุงููุฑุงุกุฉุ CPSุ ููุงููุณ ุฌูุฏุฉ ุงูุญูุงุฉุ
    ูุชุงุฆุฌ ADLุ ูููุงููุณ ููุณูุฉ. ูููุชุฌ ุฑุณูู ุจูุงููุฉ ููุชูุฏู.
    ููุญุฏุฏ: ูู ุงููุฑูุถ ูุชุญุณูุ ูู ูุญุชุงุฌ ุชุนุฏูู ุงูุฎุทุฉุ""",
    "input_schema": {
        "type": "object",
        "properties": {
            "action": {
                "type": "string",
                "enum": ["record", "compare", "trend", "alert"],
                "description": "record: ุชุณุฌูู ููุงุณ ุฌุฏูุฏ, compare: ููุงุฑูุฉ ูุจู/ุจุนุฏ, trend: ุงุชุฌุงู ุนุจุฑ ุงูุฒูู, alert: ุชูุจูู ุนูู ุชุบูุฑุงุช"
            },
            "patient_id": {"type": "string"},
            "measure_type": {
                "type": "string",
                "enum": [
                    "visual_acuity", "reading_speed", "critical_print_size",
                    "contrast_sensitivity", "visual_field",
                    "vfq25_score", "lvqol_score", "ivi_score",
                    "adl_independence", "mobility_score",
                    "phq9_score", "patient_satisfaction"
                ]
            },
            "value": {"type": "number"},
            "date": {"type": "string", "description": "ISO 8601"},
            "notes": {"type": "string"}
        },
        "required": ["action", "measure_type"]
    }
}

# โโโ ุฃุฏุงุฉ ุงูุฅุญุงูุฉ โโโ
referral_generator_tool = {
    "name": "referral_generator",
    "description": """ุฅูุดุงุก ุฎุทุงุจุงุช ุฅุญุงูุฉ ููููุฉ.
    ูููุชุฌ ุฎุทุงุจ ุฅุญุงูุฉ ูููุณู ุญุณุจ ุงูุชุฎุตุต ุงูููุญุงู ุฅูููุ
    ูุน ููุฎุต ุงูุญุงูุฉ ูุงูุณุจุจ ูุงููุนูููุงุช ุงููุทููุจุฉ.
    โ๏ธ ูุชุทูุจ ููุงููุฉ ุงููุณุชุฎุฏู ูุจู ุงูุฅูุดุงุก.""",
    "input_schema": {
        "type": "object",
        "properties": {
            "referral_to": {
                "type": "string",
                "enum": [
                    "ophthalmologist", "optometrist", "retina_specialist",
                    "neuro_ophthalmologist", "occupational_therapist",
                    "orientation_mobility_specialist", "psychologist",
                    "psychiatrist", "social_worker", "special_educator",
                    "assistive_technology_specialist", "vocational_counselor"
                ]
            },
            "reason": {"type": "string"},
            "urgency": {
                "type": "string",
                "enum": ["routine", "soon", "urgent"]
            },
            "case_summary": {"type": "object"},
            "specific_questions": {
                "type": "array",
                "items": {"type": "string"},
                "description": "ุฃุณุฆูุฉ ูุญุฏุฏุฉ ูููุชุฎุตุต ุงูููุญุงู ุฅููู"
            }
        },
        "required": ["referral_to", "reason", "case_summary"]
    }
}
```

### 13.3 Tool Loop โ ุญููุฉ ุงุณุชุฏุนุงุก ุงูุฃุฏูุงุช

```python
import anthropic

client = anthropic.Anthropic()

async def run_with_tool_loop(
    user_message: str,
    images: list = None,
    session_context: dict = None
) -> str:
    """ุชุดุบูู Claude ูุน ุญููุฉ ุฃุฏูุงุช ูุงููุฉ"""

    # ุจูุงุก ุงููุญุชูู
    content = []
    if images:
        for img in images:
            content.append({
                "type": "image",
                "source": {
                    "type": "base64",
                    "media_type": img["media_type"],
                    "data": img["data"]
                }
            })
    content.append({"type": "text", "text": user_message})

    # ุณูุงู ุงูุฌูุณุฉ (ุฅู ููุฌุฏ)
    system = SYSTEM_PROMPT
    if session_context:
        system += f"\n\n<session_context>\n{format_context(session_context)}\n</session_context>"

    messages = [{"role": "user", "content": content}]

    # ุญููุฉ ุงูุฃุฏูุงุช
    while True:
        response = client.messages.create(
            model="claude-sonnet-4-6",
            max_tokens=16000,
            system=system,
            messages=messages,
            tools=ALL_TOOLS,
            thinking={"type": "enabled", "budget_tokens": 10000}
        )

        # ุฅุฐุง ุงูุชูู Claude ูู ุงูุฅุฌุงุจุฉ
        if response.stop_reason == "end_turn":
            return extract_final_text(response)

        # ุฅุฐุง ูุฑูุฏ ุงุณุชุฏุนุงุก ุฃุฏูุงุช
        if response.stop_reason == "tool_use":
            # ุฃุถู ุฑุฏ Claude (ูุน tool_use blocks)
            messages.append({
                "role": "assistant",
                "content": response.content
            })

            # ูููุฐ ูู ุฃุฏุงุฉ ูุทููุจุฉ
            tool_results = []
            for block in response.content:
                if block.type == "tool_use":
                    result = await execute_tool(block.name, block.input)
                    tool_results.append({
                        "type": "tool_result",
                        "tool_use_id": block.id,
                        "content": json.dumps(result, ensure_ascii=False)
                    })

            # ุฃุฑุณู ุงููุชุงุฆุฌ ูู Claude
            messages.append({
                "role": "user",
                "content": tool_results
            })

        # ุญูุงูุฉ ูู ุงูุญููุงุช ุงููุงููุงุฆูุฉ
        if len(messages) > 20:
            return "โ๏ธ ุชู ุงููุตูู ููุญุฏ ุงูุฃูุตู ูู ุงูุงุณุชุฏุนุงุกุงุช."


async def execute_tool(name: str, input_data: dict):
    """ุชูููุฐ ุงูุฃุฏุงุฉ ุงููุทููุจุฉ"""
    tool_handlers = {
        "search_pubmed": handle_pubmed_search,
        "fetch_article_details": handle_article_fetch,
        "search_knowledge_base": handle_rag_search,
        "visual_calculator": handle_visual_calc,
        "arabic_reading_calculator": handle_arabic_calc,
        "functional_assessment": handle_assessment,
        "depression_screening": handle_depression,
        "device_recommender": handle_device_recommend,
        "outcome_tracker": handle_outcome_track,
        "generate_document": handle_document_gen,
        "referral_generator": handle_referral_gen,
        "think": lambda x: x,  # Think tool ูุฑุฌุน ุงููุฏุฎู ููุง ูู
    }

    handler = tool_handlers.get(name)
    if handler:
        return await handler(input_data)
    return {"error": f"ุฃุฏุงุฉ ุบูุฑ ูุนุฑููุฉ: {name}"}
```

### 13.4 ูุฎุทุท ุชุฏูู ุงูุฃุฏูุงุช โ ุฃููุง ุชูุณุชุฏุนู ููุชู

```
ุณุคุงู ุงููุณุชุฎุฏู
      โ
      โโโ "ูุง ุชุตููู VA 6/60ุ"
      โ   โโโ visual_calculator (ูุจุงุดุฑุฉ)
      โ
      โโโ "ูุฑูุถ AMDุ VA 6/60ุ ูุฑูุฏ ูุฑุงุกุฉ ุงููุฑุขู"
      โ   โโโ 1. think (ุชูููุฑ ูู ุงูุญุงูุฉ)
      โ   โโโ 2. search_knowledge_base("AMD protocol")
      โ   โโโ 3. arabic_reading_calculator(quran_magnification)
      โ   โโโ 4. device_recommender(near_reading, VA=6/60)
      โ   โโโ 5. ุงูุงุณุชุฌุงุจุฉ ุงููุชูุงููุฉ
      โ
      โโโ "ูุฑูุถ ุณูุชุฉ + hemianopia + ุงูุชุฆุงุจ"
      โ   โโโ 1. think (ุญุงูุฉ ูุนูุฏุฉ โ ุชูููุฑ ูุทููู)
      โ   โโโ 2. search_knowledge_base("hemianopia protocol")
      โ   โโโ 3. search_pubmed("hemianopia rehabilitation stroke")
      โ   โโโ 4. depression_screening(PHQ-9, responses)
      โ   โโโ 5. device_recommender(prisms, hemianopia)
      โ   โโโ 6. referral_generator(psychologist) โ ุฅุฐุง PHQ-9 ุนุงูู
      โ   โโโ 7. ุงูุงุณุชุฌุงุจุฉ + ุฎุทุฉ + ุฅุญุงูุงุช
      โ
      โโโ "ุทูู CVI Range 3ุ ูุง ุงูุจุฑูุงูุฌุ"
      โ   โโโ 1. search_knowledge_base("CVI phase 1 protocol")
      โ   โโโ 2. search_pubmed("cortical visual impairment intervention")
      โ   โโโ 3. ุฎุทุฉ ุชูุตูููุฉ ุจุญุณุจ ุงููุฑุญูุฉ
      โ
      โโโ "ุฃูุดุฆ ุชูุฑูุฑ SOAP ููุฐุง ุงููุฑูุถ"
          โโโ 1. Claude ูุณุฃู: "ูู ุชูุงูู ุนูู ุฅูุดุงุก ุงูุชูุฑูุฑุ"
          โโโ 2. [ุจุนุฏ ุงูููุงููุฉ] generate_document(SOAP, case_data)
          โโโ 3. ุงูุชูุฑูุฑ ุงูููุณู
```

-----

## ุงููุตู 14: PubMed ูุงููุตุงุฏุฑ ุงูุนูููุฉ

### 14.1 ุฎูุงุฑุงู ููุชูููุฐ

```python
# โโโ ุงูุฎูุงุฑ 1: E-Utilities ุงููุจุงุดุฑ (ูููุตู ุจู) โโโ

import requests

NCBI_BASE = "https://eutils.ncbi.nlm.nih.gov/entrez/eutils"
NCBI_API_KEY = "your-key"  # 10 req/sec ูุน API key

async def search_pubmed(query: str, max_results: int = 5,
                        date_range: str = None,
                        article_types: list = None) -> dict:
    """ุจุญุซ PubMed ุนุจุฑ E-Utilities"""

    # ุจูุงุก ุงูุงุณุชุนูุงู
    search_query = query
    if article_types:
        type_filter = " OR ".join(f"{t}[pt]" for t in article_types)
        search_query += f" AND ({type_filter})"
    if date_range:
        search_query += f" AND {date_range}[dp]"

    # ESearch โ ุงูุญุตูู ุนูู PMIDs
    search_params = {
        "db": "pubmed",
        "term": search_query,
        "retmax": max_results,
        "retmode": "json",
        "sort": "relevance",
        "api_key": NCBI_API_KEY
    }
    search_resp = requests.get(f"{NCBI_BASE}/esearch.fcgi", params=search_params)
    pmids = search_resp.json()["esearchresult"]["idlist"]

    if not pmids:
        return {"results": [], "total": 0}

    # ESummary โ ุฌูุจ ุงูุจูุงูุงุช ุงููุตููุฉ
    summary_params = {
        "db": "pubmed",
        "id": ",".join(pmids),
        "retmode": "json",
        "api_key": NCBI_API_KEY
    }
    summary_resp = requests.get(f"{NCBI_BASE}/esummary.fcgi", params=summary_params)
    articles = summary_resp.json()["result"]

    results = []
    for pmid in pmids:
        if pmid in articles:
            art = articles[pmid]
            results.append({
                "pmid": pmid,
                "title": art.get("title", ""),
                "authors": [a["name"] for a in art.get("authors", [])[:3]],
                "journal": art.get("source", ""),
                "year": art.get("pubdate", "")[:4],
                "doi": art.get("elocationid", ""),
                "url": f"https://pubmed.ncbi.nlm.nih.gov/{pmid}/"
            })

    return {"results": results, "total": len(results)}


async def fetch_article_abstract(pmid: str) -> dict:
    """ุฌูุจ ุงูููุฎุต ุงููุงูู ูููุงูุฉ ุนุจุฑ PMID"""

    params = {
        "db": "pubmed",
        "id": pmid,
        "rettype": "abstract",
        "retmode": "text",
        "api_key": NCBI_API_KEY
    }
    resp = requests.get(f"{NCBI_BASE}/efetch.fcgi", params=params)

    return {
        "pmid": pmid,
        "abstract": resp.text,
        "url": f"https://pubmed.ncbi.nlm.nih.gov/{pmid}/"
    }
```

```python
# โโโ ุงูุฎูุงุฑ 2: PubMed MCP Server โโโ
# ุฃุณูู ูู ุงูุฅุนุฏุงุฏุ ูุชูุงูู ูุน Claude Desktop

# mcp_config.json
{
    "mcpServers": {
        "pubmed": {
            "command": "uvx",
            "args": ["--from", "pubmed-mcp-server", "pubmed_mcp_server"]
        }
    }
}
# ูููุฑ ุฃุฏูุงุช: search_pubmed, get_article_details, download_full_text
```

### 14.2 ุงุณุชุฑุงุชูุฌูุงุช ุงูุจุญุซ ุงููุนุงู

```python
SEARCH_STRATEGIES = {
    "clinical_question": {
        "template": "{condition} AND {intervention} AND (rehabilitation OR low vision)",
        "example": "macular degeneration AND eccentric viewing AND rehabilitation",
        "filters": "Clinical Trial[pt] OR Randomized Controlled Trial[pt]"
    },
    "latest_guidelines": {
        "template": "{condition} AND (guideline[pt] OR practice guideline[pt])",
        "date": "last 5 years",
        "example": "low vision rehabilitation AND guideline[pt]"
    },
    "systematic_review": {
        "template": "{topic} AND (systematic review[pt] OR meta-analysis[pt])",
        "example": "assistive technology visual impairment AND systematic review[pt]"
    },
    "pediatric": {
        "template": "{condition} AND (child OR pediatric OR infant) AND rehabilitation",
        "example": "cortical visual impairment AND child AND intervention"
    }
}
```

-----

## ุงููุตู 15: Vision โ ุชุญููู ุงูุตูุฑ ุงูุทุจูุฉ

### 15.1 ุฃููุงุน ุงูุตูุฑ ุงููุฏุนููุฉ ูููููุฉ ุงูุชุญููู

```python
SUPPORTED_IMAGE_TYPES = {
    "oct_scan": {
        "description": "Optical Coherence Tomography",
        "analysis_protocol": [
            "1. ุชุญุฏูุฏ ููุน ุงููุญุต (macular, RNFL, optic disc)",
            "2. ูุตู ุงูุทุจูุงุช ุงูุดุจููุฉ ุงููุฑุฆูุฉ",
            "3. ุงูุจุญุซ ุนู: ูุฐูุฉุ ุชุฑููุ ุงููุตุงูุ ุณูุงุฆู",
            "4. ููุงุณุงุช ุงูุณูุงูุฉ (ุฅู ุธุงูุฑุฉ)",
            "5. ููุงุฑูุฉ ุจุงููุนุฏู ุงูุทุจูุนู",
            "6. ุงูุฑุจุท ุจุงูุชุดุฎูุต ูุงูุชุฃุซูุฑ ุงูุชุฃูููู"
        ],
        "rehab_relevance": "ููุณุงุนุฏ ูู ููู ุงุณุชูุฑุงุฑ ุงูุญุงูุฉ โ ูู ูุจุฏุฃ ุงูุชุฃููู ุฃู ููุชุธุฑุ"
    },
    "visual_field": {
        "description": "Humphrey / Goldmann Visual Field",
        "analysis_protocol": [
            "1. ููุน ุงููุญุต (24-2, 30-2, 10-2, full field)",
            "2. ูุคุดุฑุงุช ุงูููุซูููุฉ (fixation losses, false +/-)",
            "3. ููุท ุงูููุฏุงู (ูุฑูุฒู, ูุญูุทู, ูุตูู, ุฃูุจูุจู)",
            "4. Mean Deviation (MD) ู Pattern Standard Deviation (PSD)",
            "5. ุงูุชูุฏู ููุงุฑูุฉ ุจูุญูุตุงุช ุณุงุจูุฉ (ุฅู ููุฌุฏุช)",
            "6. ุงูุชุฃุซูุฑ ุงููุธููู: ูุง ุงูุฃูุดุทุฉ ุงููุชุฃุซุฑุฉุ"
        ],
        "rehab_relevance": "ููุญุฏุฏ ููุน ุชุฏุฑูุจ ุงูุชููู + ุงููุฑุงุกุฉ ุงููุทููุจ"
    },
    "fundus_photo": {
        "description": "ุตูุฑุฉ ูุงุน ุงูุนูู",
        "analysis_protocol": [
            "1. ุงููุฑุต ุงูุจุตุฑู (ุญุฌู, ููู, cup-to-disc ratio)",
            "2. ุงูุจูุนุฉ (foveal reflex, drusen, scars, hemorrhage)",
            "3. ุงูุฃูุนูุฉ (ุชุถูู, AV nicking, neovascularization)",
            "4. ุงูุดุจููุฉ ุงููุญูุทูุฉ (ูุฒูู, ุฅูุฑุงุฒุงุช, ุชููุณ)",
            "5. ุงูุฑุจุท ุจุงูุชุดุฎูุต ุงููุนุฑูู"
        ]
    },
    "clinical_report": {
        "description": "ุชูุงุฑูุฑ ููุชูุจุฉ/ูุทุจูุนุฉ",
        "analysis": "ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ุงูุณุฑูุฑูุฉ ุงูุฑุฆูุณูุฉ ูุชูุธูููุง"
    },
    "patient_environment": {
        "description": "ุตูุฑ ุจูุฆุฉ ุงููุฑูุถ (ููุฒู/ุนูู)",
        "analysis_protocol": [
            "1. ุชูููู ุงูุฅุถุงุกุฉ",
            "2. ุชูููู ูุฎุงุทุฑ ุงูุชุนุซุฑ/ุงูุณููุท",
            "3. ูุฑุต ุงูุชุญุณูู (ุชุจุงููุ ุชูุธููุ ุฅุถุงุกุฉ)",
            "4. ุชูุตูุงุช ุชุนุฏููุงุช ุจูุฆูุฉ ูุญุฏุฏุฉ"
        ],
        "rehab_relevance": "ูุจุงุดุฑ โ ุชุนุฏููุงุช ุจูุฆูุฉ ุนูููุฉ"
    }
}
```

### 15.2 ููุฏ ุชุญููู ุงูุตูุฑ

```python
import base64

async def analyze_medical_image(image_path: str, clinical_context: str,
                                image_type: str = "auto") -> str:
    """ุชุญููู ุตูุฑุฉ ุทุจูุฉ ูุน ุณูุงู ุณุฑูุฑู"""

    with open(image_path, "rb") as f:
        image_data = base64.standard_b64encode(f.read()).decode("utf-8")

    # ุชุญุฏูุฏ ููุน ุงูุตูุฑุฉ
    media_type = "image/jpeg"
    if image_path.endswith(".png"):
        media_type = "image/png"

    response = await client.messages.create(
        model="claude-sonnet-4-6",
        max_tokens=8192,
        system=SYSTEM_PROMPT + """
<image_analysis_mode>
ุฃูุช ุงูุขู ูู ูุถุน ุชุญููู ุงูุตูุฑ ุงูุทุจูุฉ.
ุงุชุจุน ุงูุจุฑูุชูููู ุงูุชุงูู ุจุฏูุฉ:

1. **ุงููุตู** โ ูุง ุฃุฑุงู ูู ุงูุตูุฑุฉ (ููุถูุนูุ ุจุฏูู ุชูุณูุฑ)
2. **ุงูุชูุณูุฑ** โ ูุงุฐุง ุชุนูู ูุฐู ุงููุชุงุฆุฌ ุณุฑูุฑูุงู
3. **ุงูุฑุจุท ุงูุชุฃูููู** โ ููู ูุคุซุฑ ูุฐุง ุนูู ุฎุทุฉ ุงูุชุฃููู
4. **ุงูุชูุตูุงุช** โ ูุง ูุฌุจ ูุนูู ุจูุงุกู ุนูู ูุฐุง ุงูุชุญููู

โ๏ธ ุชุฐููุฑ: ูุฐุง ุชุญููู ูุณุงุนุฏ โ ููุณ ุจุฏููุงู ุนู ุชูุณูุฑ ุงููุชุฎุตุต.
โ๏ธ ูุง ุชุฏูุนู ุฑุคูุฉ ุชูุงุตูู ุฏูููุฉ ูู ุตูุฑ ููุฎูุถุฉ ุงูุฌูุฏุฉ.
</image_analysis_mode>
""",
        messages=[{
            "role": "user",
            "content": [
                {
                    "type": "image",
                    "source": {
                        "type": "base64",
                        "media_type": media_type,
                        "data": image_data
                    }
                },
                {
                    "type": "text",
                    "text": f"""
ุงูุณูุงู ุงูุณุฑูุฑู:
{clinical_context}

ุญููู ูุฐู ุงูุตูุฑุฉ ูููุงู ูุจุฑูุชูููู ุงูุชุญููู ุงููููุฌู.
ุฑููุฒ ุนูู ุงูุฌุงูุจ ุงูุชุฃูููู: ููู ุชุคุซุฑ ุงููุชุงุฆุฌ ุนูู ุฎุทุฉ ุงูุชุฃููู.
"""
                }
            ]
        }],
        thinking={"type": "enabled", "budget_tokens": 8000}
    )

    return extract_final_text(response)


# ููุงุฑูุฉ ุตูุฑ ูุชุนุฏุฏุฉ (ูุจู ูุจุนุฏ ุงูุนูุงุฌ)
async def compare_images(images: list, comparison_context: str) -> str:
    """ููุงุฑูุฉ ุตูุฑ ุทุจูุฉ ูุชุนุฏุฏุฉ"""

    content = []
    for i, img in enumerate(images):
        with open(img["path"], "rb") as f:
            data = base64.standard_b64encode(f.read()).decode("utf-8")
        content.append({
            "type": "image",
            "source": {"type": "base64", "media_type": "image/jpeg", "data": data}
        })
        content.append({
            "type": "text",
            "text": f"๐ ุงูุตูุฑุฉ {i+1}: {img['label']}"
        })

    content.append({
        "type": "text",
        "text": f"""
ูุงุฑู ุจูู ูุฐู ุงูุตูุฑ:
{comparison_context}

ุญุฏุฏ: ุงูุชุบูุฑุงุชุ ุงูุชุญุณู/ุงูุชุฏููุฑุ ุงูุชุฃุซูุฑ ุนูู ุฎุทุฉ ุงูุชุฃููู.
"""
    })

    response = await client.messages.create(
        model="claude-sonnet-4-6",
        max_tokens=8192,
        system=SYSTEM_PROMPT,
        messages=[{"role": "user", "content": content}],
        thinking={"type": "enabled", "budget_tokens": 10000}
    )

    return extract_final_text(response)
```

-----

## ุงููุตู 16: RAG โ ุจูุงุก ุงููุงุนุฏุฉ ุงููุนุฑููุฉ

### 16.1 ุงููููู ุงููุงูู ูููุงุนุฏุฉ ุงููุนุฑููุฉ

```
๐ knowledge_base/
โ
โโโ ๐ assessments/           โ ุงููุตู 2
โ   โโโ protocols/            (ุจุฑูุชููููุงุช ุงูุชูููู)
โ   โโโ forms/                (ููุงุฐุฌ ุฌุงูุฒุฉ)
โ   โโโ scoring/              (ุฌุฏุงูู ุชูููู)
โ
โโโ ๐ diagnosis_protocols/   โ ุงููุตู 3
โ   โโโ retinal/              (AMD, DR, RP, Stargardt)
โ   โโโ optic_nerve/          (Glaucoma, ON, OA)
โ   โโโ corneal/              (opacity, keratoconus)
โ   โโโ neurological/         (hemianopia, neglect, TBI, nystagmus)
โ   โโโ congenital/           (albinism, aniridia, cataract)
โ   โโโ other/
โ
โโโ ๐ devices/               โ ุงููุตู 4
โ   โโโ optical_magnifiers/   (handheld, stand, spectacle, telescope)
โ   โโโ electronic/           (CCTV, portable, tablet, smart glasses)
โ   โโโ filters/              (absorptive, prisms, occlusion)
โ   โโโ non_optical/          (screen readers, talking devices, apps)
โ   โโโ environmental/        (lighting, contrast, organization)
โ
โโโ ๐ training/              โ ุงููุตู 5
โ   โโโ eccentric_viewing/    (EVT protocol steps)
โ   โโโ scanning/             (scanning training protocol)
โ   โโโ steady_eye/           (steady eye strategy)
โ   โโโ tracking/             (eye tracking exercises)
โ   โโโ hand_eye/             (coordination exercises)
โ   โโโ reading_training/     (reading speed improvement)
โ
โโโ ๐ neuro_visual/          โ ุงููุตู 6
โ   โโโ hemianopia/           (scanning, prisms, reading)
โ   โโโ visual_neglect/       (awareness, scanning, functional)
โ   โโโ tbi_vision/           (PTVS, convergence, accommodation)
โ   โโโ diplopia/             (prisms, occlusion, exercises)
โ   โโโ nystagmus/            (null point, prisms, surgery)
โ
โโโ ๐ pediatric/             โ ุงููุตู 7
โ   โโโ cvi/                  (Roman Range, phases, strategies)
โ   โโโ learning_media/       (LMA protocol, decision framework)
โ   โโโ early_intervention/   (0-3 years protocols)
โ   โโโ school_age/           (accommodations, IEP, technology)
โ   โโโ developmental/        (milestones, play-based assessment)
โ
โโโ ๐ psychosocial/          โ ุงููุตู 8
โ   โโโ adjustment_stages/    (grief model, intervention per stage)
โ   โโโ depression_screening/ (PHQ, GDS, referral criteria)
โ   โโโ support_groups/       (resources, programs)
โ   โโโ family_education/     (caregiver guides)
โ
โโโ ๐ mobility_adl/          โ ุงููุตู 9
โ   โโโ orientation_mobility/ (sighted guide, cane, GPS)
โ   โโโ daily_living/         (kitchen, medication, money, etc.)
โ   โโโ vocational/           (workplace modifications)
โ
โโโ ๐ arabic_specific/       โ ุงููุตู 10
โ   โโโ reading_protocols/    (RTL adaptations)
โ   โโโ quran_reading/        (devices, settings, tips)
โ   โโโ arabic_assessments/   (available tools, adaptations)
โ
โโโ ๐ clinical_guidelines/   โ ุฅุฑุดุงุฏุงุช ุนุงูุฉ
โ   โโโ who_icd11/
โ   โโโ aao_guidelines/
โ   โโโ rnib_standards/
โ   โโโ ico_guidelines/
โ
โโโ ๐ outcome_measures/      โ ุงููุตู 19
    โโโ vfq25/
    โโโ lvqol/
    โโโ ivi/
    โโโ mnread_parameters/
    โโโ adl_scales/
```

### 16.2 Contextual Embeddings โ ุชูููุฉ Anthropic

```python
# โโโ ุงูููุฑุณุฉ ูุน ุณูุงู (ููููู ูุดู ุงูุงุณุชุฑุฌุงุน 49%) โโโ

from anthropic import Anthropic
from langchain.text_splitter import RecursiveCharacterTextSplitter

client = Anthropic()

def chunk_document(text: str, metadata: dict) -> list:
    """ุชูุณูู ุงููุณุชูุฏ ูุน ุฅุถุงูุฉ ุณูุงู ููู ุฌุฒุก"""

    splitter = RecursiveCharacterTextSplitter(
        chunk_size=512,
        chunk_overlap=50,
        separators=["\n## ", "\n### ", "\n\n", "\n", ". "]
    )
    raw_chunks = splitter.split_text(text)

    contextualized_chunks = []
    for chunk in raw_chunks:
        # Claude ูููุดุฆ ุณูุงูุงู ูุตูุฑุงู ููู ุฌุฒุก
        context = client.messages.create(
            model="claude-sonnet-4-6",
            max_tokens=200,
            messages=[{
                "role": "user",
                "content": f"""<document>
{text[:2000]}  <!-- ุฃูู 2000 ุญุฑู ูู ุงููุณุชูุฏ ุงููุงูู -->
</document>

<chunk>
{chunk}
</chunk>

ุงูุชุจ ุฌููุฉ ูุงุญุฏุฉ ูุตูุฑุฉ ุชุตู ุณูุงู ูุฐุง ุงูุฌุฒุก ุถูู ุงููุณุชูุฏ ุงููุงูู.
ุงุจุฏุฃ ุจู: "ูุฐุง ุงูุฌุฒุก ูู..."
"""
            }]
        ).content[0].text

        contextualized_chunks.append({
            "text": f"{context}\n\n{chunk}",
            "original_chunk": chunk,
            "context": context,
            "metadata": metadata
        })

    return contextualized_chunks
```

### 16.3 Hybrid Search (BM25 + Semantic)

```python
from rank_bm25 import BM25Okapi
from sentence_transformers import SentenceTransformer
import numpy as np

# ูููุฐุฌ ุงูู embedding โ ูุฏุนู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
embed_model = SentenceTransformer("paraphrase-multilingual-MiniLM-L12-v2")

class HybridSearchEngine:
    def __init__(self, chunks: list):
        self.chunks = chunks
        texts = [c["text"] for c in chunks]

        # BM25 (keyword-based)
        tokenized = [t.split() for t in texts]
        self.bm25 = BM25Okapi(tokenized)

        # Semantic embeddings
        self.embeddings = embed_model.encode(texts, normalize_embeddings=True)

    def search(self, query: str, top_k: int = 5,
               category_filter: str = None,
               bm25_weight: float = 0.4,
               semantic_weight: float = 0.6) -> list:
        """ุจุญุซ ูุฌูู: BM25 + Semantic ูุน ุฏูุฌ Reciprocal Rank Fusion"""

        # ุชุตููุฉ ุญุณุจ ุงููุฆุฉ
        candidates = self.chunks
        if category_filter:
            candidates = [c for c in candidates
                         if c["metadata"].get("category") == category_filter]

        # BM25 scores
        bm25_scores = self.bm25.get_scores(query.split())

        # Semantic scores
        query_embedding = embed_model.encode([query], normalize_embeddings=True)
        semantic_scores = np.dot(self.embeddings, query_embedding.T).flatten()

        # Reciprocal Rank Fusion
        bm25_ranks = np.argsort(-bm25_scores)
        semantic_ranks = np.argsort(-semantic_scores)

        rrf_scores = {}
        k = 60  # RRF constant
        for rank, idx in enumerate(bm25_ranks):
            rrf_scores[idx] = rrf_scores.get(idx, 0) + bm25_weight / (k + rank + 1)
        for rank, idx in enumerate(semantic_ranks):
            rrf_scores[idx] = rrf_scores.get(idx, 0) + semantic_weight / (k + rank + 1)

        # ุชุฑุชูุจ ูุฅุฑุฌุงุน
        sorted_indices = sorted(rrf_scores, key=rrf_scores.get, reverse=True)[:top_k]

        return [{
            "text": self.chunks[i]["text"],
            "metadata": self.chunks[i]["metadata"],
            "score": rrf_scores[i]
        } for i in sorted_indices]
```

### 16.4 ุงูุจุฏูู ููููุงุนุฏ ุงูุตุบูุฑุฉ: Prompt Caching

```python
# ุฅุฐุง ุงููุงุนุฏุฉ ุงููุนุฑููุฉ ุฃูู ูู 200K tokens:
# ุงุณุชุฎุฏู Prompt Caching ุจุฏู Vector DB โ ุฃุจุณุท ูุฃุณุฑุน

# ูููุฑ 90% ูู ุงูุชูููุฉ + 50% ูู ุงูููุช
response = client.messages.create(
    model="claude-sonnet-4-6",
    max_tokens=8192,
    system=[
        {
            "type": "text",
            "text": SYSTEM_PROMPT
        },
        {
            "type": "text",
            "text": full_knowledge_base_text,  # ูู ุงููุญุชูู ุงูุณุฑูุฑู
            "cache_control": {"type": "ephemeral"}  # ููุฎุฒู ูุคูุชุงู 5 ุฏูุงุฆู
        }
    ],
    messages=[{"role": "user", "content": user_query}]
)
# โ Claude ูุจุญุซ ูู ูู ุงููุงุนุฏุฉ ูุจุงุดุฑุฉ ุจุฏูู Vector DB
# โ ููุชุงุฒ ููููุงุฐุฌ ุงูุฃูููุฉ (prototyping)
```

-----

## ุงููุตู 17: Prompt Chaining โ ุณูุงุณู ุงูุนูู ุงูุณุฑูุฑูุฉ

### 17.1 ุงูุณูุณูุฉ ุงูุฑุฆูุณูุฉ: ุงูุชูููู ุงูุดุงูู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                   โ
โ  Chain 1          Chain 2          Chain 3          Chain 4       โ
โ  โโโโโโโโโโโ     โโโโโโโโโโโ     โโโโโโโโโโโ     โโโโโโโโโโโ   โ
โ  โุงูุงุณุชูุจุงู โโโโโโถโุงูุชูููู  โโโโโโถโุงูุจุญุซ    โโโโโโถโุงูุฎุทุฉ    โ   โ
โ  โูุงูุชุงุฑูุฎ โ     โุงูุณุฑูุฑู  โ     โุงูุนููู   โ     โุงูุนูุงุฌูุฉ โ   โ
โ  โโโโโโโโโโโ     โโโโโโโโโโโ     โโโโโโโโโโโ     โโโโโโโโโโโ   โ
โ       โ               โ               โ               โ          โ
โ   ูุต + ุฃุณุฆูุฉ     ูุต + ุตูุฑ       tools ููุนูุฉ     XML ููููู     โ
โ                                                       โ          โ
โ                                    Chain 5          Chain 6      โ
โ                                   โโโโโโโโโโโ     โโโโโโโโโโโ   โ
โ                                   โุงููุฑุงุฌุนุฉ โโโโโโถโุงูุชูุซูู  โ   โ
โ                                   โุงูุฐุงุชูุฉ  โ     โ(ุจููุงููุฉ)โ   โ
โ                                   โโโโโโโโโโโ     โโโโโโโโโโโ   โ
โ                                                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 17.2 ุงูุชูููุฐ ุงููุงูู

```python
async def comprehensive_assessment_chain(
    patient_data: str,
    images: list = None,
    tools: list = ALL_TOOLS
) -> dict:
    """ุณูุณูุฉ ุงูุชูููู ุงูุดุงูู โ 6 ูุฑุงุญู"""

    results = {}

    # โโโ Chain 1: ุงูุงุณุชูุจุงู ูุฌูุน ุงููุนูููุงุช โโโ
    results["intake"] = await chain_call(
        phase="intake",
        system_addition="""ุฃูุช ูู ูุฑุญูุฉ ุงูุงุณุชูุจุงู.
ุงุฌูุน ูุตููู ูู ุงููุนูููุงุช ุงููุชุงุญุฉ ุนู ุงูุญุงูุฉ.
ุฅุฐุง ููุตุช ูุนูููุงุช ุถุฑูุฑูุฉุ ุญุฏุฏูุง ุจูุถูุญ.
ุฃุฎุฑุฌ XML: <intake><demographics/><diagnosis/><history/><complaints/><goals/><missing_info/></intake>""",
        user_message=f"ุจูุงูุงุช ุงูุญุงูุฉ:\n{patient_data}",
        images=None,
        tools=None
    )

    # โโโ Chain 2: ุงูุชูููู ุงูุจุตุฑู ูุงููุธููู โโโ
    results["assessment"] = await chain_call(
        phase="assessment",
        system_addition="""ุฃูุช ูู ูุฑุญูุฉ ุงูุชูููู.
ุญููู ุงูุจูุงูุงุช ุงูุจุตุฑูุฉ ูุงููุธูููุฉ ุจุนูู.
ุฅุฐุง ุฃูุฑุณูุช ุตูุฑ ุทุจูุฉุ ุญูููุง ููู ุงูุจุฑูุชูููู ุงููููุฌู.
ุฃุฎุฑุฌ XML: <assessment><visual_function/><functional_impact/><classification/><image_analysis/><priorities/></assessment>""",
        user_message=f"ุจูุงุกู ุนูู ุจูุงูุงุช ุงูุงุณุชูุจุงู:\n<intake>{results['intake']}</intake>\n\nูู ุจุงูุชูููู ุงูุดุงูู.",
        images=images,
        tools=[functional_assessment_tool, visual_calculator_tool, arabic_reading_calculator_tool]
    )

    # โโโ Chain 3: ุงูุจุญุซ ุงูุนููู โโโ
    results["evidence"] = await chain_call(
        phase="evidence_search",
        system_addition="""ุฃูุช ูู ูุฑุญูุฉ ุงูุจุญุซ ุงูุนููู.
ุงุจุญุซ ุนู ุฃุญุฏุซ ุงูุฃุฏูุฉ ุงููุชุนููุฉ ุจูุฐู ุงูุญุงูุฉ.
ุงุณุชุฎุฏู search_pubmed ูsearch_knowledge_base.
ููู ุชูุตูุฉุ ุญุฏุฏ ูุณุชูู ุงูุฏููู.""",
        user_message=f"""ุจูุงุกู ุนูู ุงูุชูููู:
<assessment>{results['assessment']}</assessment>

ุงุจุญุซ ุนู:
1. ุจุฑูุชููููุงุช ุงูุชุฃููู ููุฐุง ุงูุชุดุฎูุต
2. ูุนุงููุฉ ุงูุชุฏุฎูุงุช ุงูููุชุฑุญุฉ
3. ุฅุฑุดุงุฏุงุช ุณุฑูุฑูุฉ ุญุฏูุซุฉ
4. ุฎุตูุตูุงุช ุนูุฑ ุงููุฑูุถ (ุฅู ูุงู ุทููุงู ุฃู ูุจูุฑ ุณู)
""",
        tools=[search_pubmed_tool, fetch_article_details_tool, search_knowledge_base_tool]
    )

    # โโโ Chain 4: ุจูุงุก ุงูุฎุทุฉ ุงูุนูุงุฌูุฉ โโโ
    results["plan"] = await chain_call(
        phase="treatment_plan",
        system_addition="""ุฃูุช ูู ูุฑุญูุฉ ุจูุงุก ุงูุฎุทุฉ ุงูุนูุงุฌูุฉ.""",
        user_message=f"""ุจูุงุกู ุนูู:
<intake>{results['intake']}</intake>
<assessment>{results['assessment']}</assessment>
<evidence>{results['evidence']}</evidence>

ุถุน ุฎุทุฉ ุนูุงุฌูุฉ ุดุงููุฉ:

1. **ุฃูุฏุงู SMART** โ ูุตูุฑุฉ/ูุชูุณุทุฉ/ุทูููุฉ ุงููุฏู
2. **ุงูุฃุฌูุฒุฉ ุงููุณุงุนุฏุฉ** โ ูุน ุงูููุงุตูุงุช ูุทุฑููุฉ ุงูุชุฏุฑูุจ
3. **ุงูุชุฏุฑูุจุงุช** โ ุงูุจุฑูุชูููู ุงูููุตู ุฎุทูุฉ ุจุฎุทูุฉ
4. **ุงูุชุนุฏููุงุช ุงูุจูุฆูุฉ** โ ูุญุฏุฏุฉ ูุนูููุฉ
5. **ุงูุฏุนู ุงูููุณู** โ ุชูููู + ุชุฏุฎู + ุฅุญุงูุฉ ุฅุฐุง ูุฒู
6. **ุงูุฅุญุงูุงุช** โ ูุฃู ุชุฎุตุตุงุช ุฃุฎุฑู ูุทููุจุฉ
7. **ุงูุฌุฏูู ุงูุฒููู** โ ุนุฏุฏ ุงูุฌูุณุงุช ูุงูุชูุฑุงุฑ
8. **ูุนุงููุฑ ุงููุฌุงุญ** โ ูุคุดุฑุงุช ูุงุจูุฉ ููููุงุณ
9. **ุฎุทุฉ ุงููุชุงุจุนุฉ** โ ููุงุนูุฏ ุฅุนุงุฏุฉ ุงูุชูููู

ุฃุฎุฑุฌ XML: <treatment_plan>...</treatment_plan>
""",
        tools=[device_recommender_tool, depression_screening_tool, referral_generator_tool]
    )

    # โโโ Chain 5: ุงููุฑุงุฌุนุฉ ุงูุฐุงุชูุฉ โโโ
    results["review"] = await chain_call(
        phase="quality_review",
        system_addition="""ุฃูุช ูุฑุงุฌุน ุฌูุฏุฉ ุณุฑูุฑูุฉ. ุฑุงุฌุน ุจุนูู ูุงูุฏุฉ.""",
        user_message=f"""ุฑุงุฌุน ุงูุฎุทุฉ ุงูุนูุงุฌูุฉ:
<plan>{results['plan']}</plan>

ุชุญูู ูู:
โ ูู ุงูุฃูุฏุงู ูุงูุนูุฉ ููุงุจูุฉ ููููุงุณ (SMART)ุ
โ ูู ุงูุชุฏุฎูุงุช ูุฏุนููุฉ ุจุฃุฏูุฉ ุนูููุฉ ูุงููุฉุ
โ ูู ุชู ูุฑุงุนุงุฉ ููุงูุน ุงูุงุณุชุนูุงูุ
โ ูู ุชู ูุฑุงุนุงุฉ ุนูุงูู ุงููุฑูุถ (ุนูุฑุ ูุนุฑููุ ุญุฑููุ ููุณู)ุ
โ ูู ุงูุฃุฌูุฒุฉ ููุงุณุจุฉ ูููุฏุฑุงุช ุงูุญุฑููุฉ ูุงููุนุฑููุฉุ
โ ูู ุงูุฌุฏูู ุงูุฒููู ููุทููุ
โ ูู ุชู ุชุบุทูุฉ ุงูุฌุงูุจ ุงูููุณู ูุงูุงุฌุชูุงุนูุ
โ ูู ููุงู ูุฌูุงุช ุฃู ุชูุงูุถุงุชุ

ุฃุฎุฑุฌ: <quality_review><scores/><issues/><recommendations/><revised_plan_if_needed/></quality_review>
""",
        tools=None
    )

    # โโโ Chain 6: ุงูุชูุซูู (ูุญุชุงุฌ ููุงููุฉ) โโโ
    results["documentation_ready"] = True
    results["documentation_pending_consent"] = True

    return results


async def chain_call(phase: str, system_addition: str,
                     user_message: str, images: list = None,
                     tools: list = None) -> str:
    """ุงุณุชุฏุนุงุก ุญููุฉ ูุงุญุฏุฉ ูู ุงูุณูุณูุฉ"""

    content = []
    if images:
        for img in images:
            content.append({
                "type": "image",
                "source": {
                    "type": "base64",
                    "media_type": img["media_type"],
                    "data": img["data"]
                }
            })
    content.append({"type": "text", "text": user_message})

    kwargs = {
        "model": "claude-sonnet-4-6",
        "max_tokens": 8192,
        "system": SYSTEM_PROMPT + f"\n\n<current_phase>{system_addition}</current_phase>",
        "messages": [{"role": "user", "content": content}],
        "thinking": {"type": "enabled", "budget_tokens": 8000}
    }
    if tools:
        kwargs["tools"] = tools

    response = await run_with_tool_loop_internal(**kwargs)
    return extract_text(response)
```

-----

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# ุงูุฌุฒุก ุงูุซุงูุซ: ุงูุชุดุบูู ูุงูุฌูุฏุฉ

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

-----

## ุงููุตู 18: ุงูุชูุซูู ูุงูุชูุงุฑูุฑ

### 18.1 ุงููุงุนุฏุฉ ุงูุฐูุจูุฉ: ูุง ุชูุซูู ุจุฏูู ููุงููุฉ

```python
async def request_consent_then_document(case_results: dict, doc_type: str):
    """ุทูุจ ุงูููุงููุฉ ุซู ุฅูุดุงุก ุงูุชูุซูู"""

    # ุนุฑุถ ููุฎุต ูุง ุณูุชู ุชูุซููู
    preview = generate_preview(case_results, doc_type)

    consent_message = f"""
๐ **ุทูุจ ููุงููุฉ ุนูู ุงูุชูุซูู**

ุจูุงุกู ุนูู ุชูููููุงุ ูููููู ุฅุนุฏุงุฏ: **{doc_type}**

ุณูุชุถูู ุงูุชูุฑูุฑ:
{preview}

ูู ุชูุงูู ุนูู ุฅูุดุงุก ูุฐุง ุงูุชูุฑูุฑุ
โ๏ธ ูู ูุชู ุชุฎุฒูู ุจูุงูุงุช ุดุฎุตูุฉ ุจุนุฏ ุงูุชูุงุก ุงูุฌูุณุฉ.
"""
    return consent_message
    # ุงูุชูููุฐ ุงููุนูู ูุญุฏุซ ููุท ุจุนุฏ ุชุฃููุฏ ุงููุณุชุฎุฏู
```

### 18.2 ุชูุณููุงุช ุงูุชูุซูู ุงููุฏุนููุฉ

```python
DOCUMENT_TYPES = {
    "soap_note": {
        "name": "SOAP Note",
        "sections": ["Subjective", "Objective", "Assessment", "Plan"],
        "use_case": "ุชูุซูู ุงูุฒูุงุฑุฉ ุงูุณุฑูุฑูุฉ",
        "template": """
<soap>
  <subjective>
    ุงูุดููู ุงูุฑุฆูุณูุฉ: {chief_complaint}
    ุชุงุฑูุฎ ุงูุญุงูุฉ: {history}
    ุงูุฃูุฏุงู: {goals}
  </subjective>
  <objective>
    ุญุฏุฉ ุงูุฅุจุตุงุฑ: {va}
    ุญุณุงุณูุฉ ุงูุชุจุงูู: {cs}
    ุงููุฌุงู ุงูุจุตุฑู: {vf}
    ุงููุฑุงุกุฉ: CPS={cps}, MRS={mrs}
    ูุญูุตุงุช ุฅุถุงููุฉ: {additional}
  </objective>
  <assessment>
    ุงูุชุดุฎูุต ุงูุชุฃูููู: {rehab_diagnosis}
    ุชุตููู WHO: {who_class}
    ุงูุชุตููู ุงููุธููู: {functional_class}
    ูุญุต ุงูุงูุชุฆุงุจ: {depression_screen}
  </assessment>
  <plan>
    ุงูุฃุฌูุฒุฉ: {devices}
    ุงูุชุฏุฑูุจุงุช: {training}
    ุงูุชุนุฏููุงุช ุงูุจูุฆูุฉ: {env_mods}
    ุงูุฅุญุงูุงุช: {referrals}
    ุงููุชุงุจุนุฉ: {follow_up}
  </plan>
</soap>"""
    },

    "icf_report": {
        "name": "ICF Framework Report",
        "sections": ["Body Functions", "Body Structures",
                      "Activities & Participation", "Environmental Factors",
                      "Personal Factors"],
        "use_case": "ุชูุฑูุฑ ุชุฃูููู ุดุงูู ููู ุฅุทุงุฑ ICF",
    },

    "referral_letter": {
        "name": "ุฎุทุงุจ ุฅุญุงูุฉ",
        "sections": ["ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ", "ููุฎุต ุงูุญุงูุฉ",
                      "ุณุจุจ ุงูุฅุญุงูุฉ", "ุงูุฃุณุฆูุฉ ุงููุญุฏุฏุฉ"],
        "use_case": "ุฅุญุงูุฉ ููุชุฎุตุต ุขุฎุฑ",
    },

    "progress_note": {
        "name": "ููุงุญุธุฉ ุชูุฏู",
        "sections": ["ุงูุฃูุฏุงู ุงูุณุงุจูุฉ", "ุงูุชูุฏู ุงููุญุฑุฒ",
                      "ุงูููุงุณุงุช ุงูุญุงููุฉ", "ุงูุชุนุฏููุงุช", "ุงูุฎุทุฉ ุงููุญุฏุซุฉ"],
        "use_case": "ูุชุงุจุนุฉ ุฏูุฑูุฉ",
    },

    "treatment_plan": {
        "name": "ุฎุทุฉ ุนูุงุฌูุฉ",
        "sections": ["ุงูุชุดุฎูุต", "ุงูุฃูุฏุงู", "ุงูุชุฏุฎูุงุช",
                      "ุงูุฌุฏูู", "ูุนุงููุฑ ุงููุฌุงุญ", "ุงููุชุงุจุนุฉ"],
        "use_case": "ุฎุทุฉ ุงูุนูุงุฌ ุงูุดุงููุฉ",
    },

    "school_report": {
        "name": "ุชูุฑูุฑ ูุฏุฑุณู",
        "sections": ["ุงูุชูููู ุงูุจุตุฑู", "ุงูุชุฃุซูุฑ ุนูู ุงูุชุนูู",
                      "ุงูุชูุตูุงุช ุงูุตููุฉ", "ุงูุฃุฌูุฒุฉ", "ุงูุชุนุฏููุงุช"],
        "use_case": "ุชูุฑูุฑ ูููุฏุฑุณุฉ ุนู ุทูู ุถุนูู ุงูุจุตุฑ",
    }
}
```

-----

## ุงููุตู 19: ูุธุงู ููุงุณ ุงููุชุงุฆุฌ ูุงููุชุงุจุนุฉ

### 19.1 ููุงููุณ ุงููุชุงุฆุฌ ุงููุนุชูุฏุฉ

```yaml
outcome_measures:
  visual_function:
    visual_acuity:
      tools: ["ETDRS", "LogMAR", "Snellen"]
      frequency: "ูู ุฒูุงุฑุฉ"
      meaningful_change: "โฅ 0.1 LogMAR (ุณุทุฑ ูุงุญุฏ)"

    reading_performance:
      tools: ["MNREAD"]
      parameters:
        - "Reading Acuity (RA) โ ุฃุตุบุฑ ุญุฌู ูุงุจู ูููุฑุงุกุฉ"
        - "Critical Print Size (CPS) โ ุฃุตุบุฑ ุญุฌู ุจุณุฑุนุฉ ูุงููุฉ"
        - "Maximum Reading Speed (MRS) โ ุณุฑุนุฉ ุงููุฑุงุกุฉ ุงููุตูู"
      frequency: "ูุจู ุงูุชุฏุฎู + 4 ุฃุณุงุจูุน + 3 ุฃุดูุฑ"
      meaningful_change: "โฅ 10 words/min ูู MRS ุฃู โฅ 0.1 LogMAR ูู CPS"

    contrast_sensitivity:
      tools: ["Pelli-Robson", "Mars"]
      frequency: "ูุจู ุงูุชุฏุฎู + 3 ุฃุดูุฑ"
      meaningful_change: "โฅ 0.15 log units"

  patient_reported:
    quality_of_life:
      tools:
        - name: "VFQ-25"
          description: "25-item Visual Function Questionnaire"
          domains: ["general vision", "near activities", "distance activities",
                    "driving", "social functioning", "mental health", "dependency"]
          meaningful_change: "โฅ 5 points composite score"

        - name: "LVQOL"
          description: "Low Vision Quality of Life Questionnaire"
          domains: ["basic aspects", "adjustment", "reading/fine work", "mobility"]

        - name: "IVI"
          description: "Impact of Vision Impairment"
          domains: ["reading", "mobility", "emotional well-being"]

    functional_independence:
      tools:
        - name: "ADL Checklist"
          domains: ["personal care", "kitchen", "medication", "money",
                    "communication", "mobility"]
          scoring: "0=dependent, 1=with help, 2=with device, 3=independent"

        - name: "Activity Inventory"
          description: "VA LV VFQ-48 โ ูููุงุณ ุดุงูู ูููุฏุฑุฉ ุงููุธูููุฉ"

  psychological:
    tools:
      - name: "PHQ-9"
        frequency: "ุงุณุชูุจุงู + 3 ุฃุดูุฑ + 6 ุฃุดูุฑ"
        meaningful_change: "โฅ 5 points"
      - name: "GDS-15"
        for: "ูุจุงุฑ ุงูุณู"
```

### 19.2 ููู ูุนูู ุชุชุจุน ุงููุชุงุฆุฌ

```
ุงูุฒูุงุฑุฉ ุงูุฃููู                    ูุชุงุจุนุฉ 1 (4 ุฃุณุงุจูุน)         ูุชุงุจุนุฉ 2 (3 ุฃุดูุฑ)
โโโโโโโโโโโโโ                     โโโโโโโโโโโโโโโโโโโโ          โโโโโโโโโโโโโโโโโโ
outcome_tracker.record(            outcome_tracker.record(       outcome_tracker.record(
  "reading_speed", 45 wpm)           "reading_speed", 62 wpm)     "reading_speed", 78 wpm)
outcome_tracker.record(            outcome_tracker.record(       outcome_tracker.record(
  "vfq25_score", 42)                 "vfq25_score", 55)           "vfq25_score", 68)
                                                                          โ
                                                                          โผ
                                                              outcome_tracker.trend(
                                                                "reading_speed")
                                                                          โ
                                                                          โผ
                                                              โโโโโโโโโโโโโโโโโโโโโโ
                                                              โ  ๐ ุฑุณู ุจูุงูู      โ
                                                              โ                    โ
                                                              โ  78 โ      โ       โ
                                                              โ  62 โ   โ          โ
                                                              โ  45 โ โ            โ
                                                              โ     โโโโโโโโโโโโโ  โ
                                                              โ     V1  M1   M2    โ
                                                              โ                    โ
                                                              โ  โ ุชุญุณู 73%       โ
                                                              โ  โ ุฃุนูู ูู ุงููุฏู  โ
                                                              โโโโโโโโโโโโโโโโโโโโโโ
```

-----

## ุงููุตู 20: ุงููุฑูู ูุชุนุฏุฏ ุงูุชุฎุตุตุงุช ูุงูุฅุญุงูุฉ

### 20.1 ุฎุฑูุทุฉ ุงููุฑูู

```
                    โโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ   ุทุจูุจ ุงูุนููู         โ
                    โ   (ุงูุชุดุฎูุต + ุงูุนูุงุฌ)  โ
                    โโโโโโโโโโโโโฌโโโโโโโโโโโโ
                                โ
                                โผ
                    โโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ  ุฃุฎุตุงุฆู ุงูุชุฃููู       โ
                    โ  ุงูุจุตุฑู               โ
                    โ  (ุงูููุณู ุงูุฑุฆูุณู)     โ
                    โโโโโโโโโโโโโฌโโโโโโโโโโโโ
                                โ
          โโโโโโโโโโโโฌโโโโโโโโโโโผโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโ
          โผ          โผ          โผ          โผ          โผ          โผ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ ูุนุงูุฌ    โโ ุฃุฎุตุงุฆู  โโ ุฃุฎุตุงุฆู  โโ ูุนูู    โโ ุฃุฎุตุงุฆู  โโ ุฃุฎุตุงุฆู  โ
    โ ูุธููู   โโ ุชููู    โโ ููุณู    โโ ุชุฑุจูุฉ   โโ ุชูููุฉ   โโ ุงุฌุชูุงุนูโ
    โ (OT)     โโ (O&M)    โโ          โโ ุฎุงุตุฉ    โโ ูุณุงุนุฏุฉ  โโ          โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    ADL         ุงูุชููู      ุงูุฏุนู       ุงูุชุนููู    ุงูุฃุฌูุฒุฉ     ุงูููุงุฑุฏ
    ุงูููุฒู      ุงูุนุตุง       ุงูููุณู      IEP        ูุงูุจุฑุงูุฌ   ุงููุฌุชูุนูุฉ
    ุงูุนูู       ุงูุจูุฆุฉ      ุงูุงูุชุฆุงุจ    ุงูููุงูุฌ    ุงูุชุฏุฑูุจ    ุงูุฏุนู ุงููุงูู
```

### 20.2 ูุนุงููุฑ ุงูุฅุญุงูุฉ ููู ุชุฎุตุต

```python
REFERRAL_CRITERIA = {
    "ophthalmologist": {
        "when": [
            "ุชุบูุฑ ููุงุฌุฆ ูู ุงูุฑุคูุฉ ุฃุซูุงุก ุงูุชุฃููู",
            "ุฃุนุฑุงุถ ุฌุฏูุฏุฉ (ููุถุงุชุ ุนูุงุฆู ูุซููุฉุ ุณุชุงุฑุฉ)",
            "ุญุงุฌุฉ ูุชุญุฏูุซ ุงูุชุดุฎูุต ุฃู ุงูุนูุงุฌ",
            "ููุนุฏ ุงููุญุต ุงูุฏูุฑู (ูู 6-12 ุดูุฑ)"
        ],
        "urgency": "urgent ุฅุฐุง ุฃุนุฑุงุถ ููุงุฌุฆุฉ, routine ุฅุฐุง ูุญุต ุฏูุฑู"
    },

    "occupational_therapist": {
        "when": [
            "ุตุนูุจุงุช ADL ูุง ุชูุญู ุจุงูุฃุฌูุฒุฉ ุงูุจุตุฑูุฉ ููุท",
            "ุญุงุฌุฉ ูุชุนุฏููุงุช ุจูุฆูุฉ ูุนูุฏุฉ",
            "ูุฑูุถ ูุจูุฑ ุณู ูุน ูุดุงูู ุญุฑููุฉ ูุตุงุญุจุฉ",
            "ุชุฃููู ูููู (workplace modifications)"
        ]
    },

    "orientation_mobility_specialist": {
        "when": [
            "ูุฌุงู ุจุตุฑู < 20 ุฏุฑุฌุฉ (ุฃูุจูุจู)",
            "ุตุนูุจุฉ ุงูุชููู ุงูุฎุงุฑุฌู",
            "ุชุงุฑูุฎ ุณููุท ุฃู ุญูุงุฏุซ",
            "ููุฏุงู ุจุตุฑ ุญุฏูุซ ูุน ุนุฏู ุซูุฉ ูู ุงูุชููู"
        ]
    },

    "psychologist": {
        "when": [
            "PHQ-9 โฅ 10",
            "ุนูุงูุงุช ุงูุชุฆุงุจ ุฃู ููู ูุณุชูุฑ",
            "ุฑูุถ ุงูุชุฃููู ุจุณุจุจ ุงูุญุงูุฉ ุงูููุณูุฉ",
            "ุฃููุงุฑ ุงูุชุญุงุฑูุฉ (โ๏ธ ุทุงุฑุฆ)",
            "ุตุนูุจุฉ ุงูุชููู ุจุนุฏ 6+ ุฃุดูุฑ"
        ]
    },

    "special_educator": {
        "when": [
            "ุทูู ูู ุณู ุงููุฏุฑุณุฉ ูุน ุถุนู ุจุตุฑ",
            "ุญุงุฌุฉ ูู IEP ุฃู ุชุนุฏููุงุช ุตููุฉ",
            "ุชูููู Learning Media Assessment",
            "CVI ูุคุซุฑ ุนูู ุงูุชุนูู"
        ]
    },

    "assistive_technology_specialist": {
        "when": [
            "ุญุงุฌุฉ ูุชูููุงุช ูุนูุฏุฉ (screen readers, JAWS)",
            "ุชูุงูู ุฃุฌูุฒุฉ ูุชุนุฏุฏุฉ",
            "ุจูุฆุฉ ุนูู ุชุญุชุงุฌ ุญููู ุชูููุฉ ูุชูุฏูุฉ"
        ]
    }
}
```

-----

## ุงููุตู 21: ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### 21.1 ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ

```python
SECURITY_PRINCIPLES = {
    "data_in_transit": "TLS 1.2+ ููู ุงูุงุชุตุงูุงุช ูุน Claude API",
    "data_at_rest": "AES-256-GCM ูุฃู ุจูุงูุงุช ูุฎุฒูุฉ ูุญููุงู",
    "zero_data_retention": "ุงุณุชุฎุฏุงู ZDR header ุนูุฏ ุงูุชููุฑ",
    "no_pii_in_prompts": "ูุง ุชูุฑุณู ุฃุณูุงุก ุญููููุฉ ุฃู ุฃุฑูุงู ูููุฉ ูู System Prompt",
    "consent_first": "ูุง ุชูุซูู ุจุฏูู ููุงููุฉ ุตุฑูุญุฉ",
    "disclaimer_always": "ูู ุงุณุชุฌุงุจุฉ ุณุฑูุฑูุฉ ุชุญุชูู ุนูู ุชูุจูู",
    "audit_logging": "ุชุณุฌูู ูู ุชูุงุนู (ุจุฏูู ุจูุงูุงุช ุงููุฑูุถ)",
    "session_timeout": "30 ุฏูููุฉ โ ูุณุญ ุงูุณูุงู ุจุนุฏูุง",
    "human_review": "ุงูุชูุตูุงุช ุงูุญุฑุฌุฉ ุชุญุชุงุฌ ูุฑุงุฌุนุฉ ุจุดุฑูุฉ"
}
```

### 21.2 Input Validation ูุงูุญูุงูุฉ

```python
import re

def sanitize_input(text: str) -> str:
    """ุชูุธูู ุงููุฏุฎูุงุช ูู ูุญุงููุงุช ุงูุญูู ูุงูุจูุงูุงุช ุงูุญุณุงุณุฉ"""

    # 1. ุญูุงูุฉ ูู Prompt Injection
    injection_patterns = [
        r"ignore\s+(previous|all|above)\s+instructions",
        r"you\s+are\s+now",
        r"<\s*system\s*>",
        r"system:\s*",
        r"forget\s+everything",
        r"new\s+instructions",
    ]
    for pattern in injection_patterns:
        text = re.sub(pattern, "[BLOCKED]", text, flags=re.IGNORECASE)

    # 2. ุฅุฒุงูุฉ ุจูุงูุงุช ุญุณุงุณุฉ ุบูุฑ ุถุฑูุฑูุฉ
    text = re.sub(r'\b\d{10,}\b', '[REDACTED_ID]', text)         # ุฃุฑูุงู ูููุฉ
    text = re.sub(r'\b\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}\b',
                  '[REDACTED_CARD]', text)                          # ุจุทุงูุงุช
    # ูุง ูุญุฐู ุฃุฑูุงู VA ุฃู ุงูููุงุณุงุช ุงูุทุจูุฉ (ูููุฉ ุณุฑูุฑูุงู)

    return text


def validate_output(response: str) -> str:
    """ุงูุชุญูู ูู ุฃู ุงูุงุณุชุฌุงุจุฉ ุขููุฉ ูููุชููุฉ"""

    # 1. ุฅุถุงูุฉ Disclaimer ุฅุฐุง ูู ููู ููุฌูุฏุงู
    has_disclaimer = any(term in response for term in
                        ["ููุณ ุจุฏููุงู", "ุชูุจูู", "ูุฑุงุฌุนุฉ ูุชุฎุตุต", "ุงุณุชุดุงุฑุฉ ุทุจูุฉ"])

    if not has_disclaimer and contains_clinical_advice(response):
        response += "\n\nโ๏ธ ูุฐุง ุชุญููู ูุณุงุนุฏ ูููุณ ุจุฏููุงู ุนู ุงูุฑุฃู ุงูุทุจู ุงููุจุงุดุฑ ูู ูุชุฎุตุต ูุคูู."

    # 2. ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ุชุดุฎูุต ููุงุฆู
    definitive_patterns = [
        r"ุฃูุช ูุตุงุจ ุจู",
        r"ุงูุชุดุฎูุต ูู",
        r"ูุฌุจ ุฃู ุชุชูุงูู",  # ูุตู ุฏูุงุฆู ูุจุงุดุฑ
    ]
    for pattern in definitive_patterns:
        if re.search(pattern, response):
            response = re.sub(pattern, "ูุฏ ูููู ", response)

    return response
```

### 21.3 ุฅุนุฏุงุฏุงุช HIPAA

```python
HIPAA_CONFIG = {
    "api_headers": {
        "anthropic-beta": "zero-data-retention-2025-01-01"
    },
    "local_storage": {
        "encryption": "AES-256-GCM",
        "key_management": "environment variable, never hardcoded",
        "retention_period": "session only โ deleted after timeout",
    },
    "logging": {
        "what_to_log": ["tool_calls", "response_times", "error_types"],
        "what_NOT_to_log": ["patient_data", "images", "full_responses"],
    },
    "access_control": {
        "authentication": "required",
        "session_timeout_minutes": 30,
        "role_based": True,
    }
}
```

-----

## ุงููุตู 22: ุฎุงุฑุทุฉ ุงูุจูุงุก ูุงูุชุทููุฑ

### 22.1 ุงููุฑุงุญู ุงูุฃุฑุจุน

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุงููุฑุญูุฉ 1: ุงูุฃุณุงุณ (ุดูุฑ 1-2)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ุงูุฃุณุจูุน 1-2: ุงูุจููุฉ ุงูุชุญุชูุฉ
  โ ุฅุนุฏุงุฏ Claude API ูุน System Prompt ุงูุดุงูู
  โ ุชูููุฐ Tool Loop ุงูุฃุณุงุณู
  โ ุงุฎุชุจุงุฑ Extended Thinking ุนูู ุญุงูุงุช ุจุณูุทุฉ

ุงูุฃุณุจูุน 3-4: ุงูุฃุฏูุงุช ุงูุฃุณุงุณูุฉ
  โ search_pubmed + fetch_article_details
  โ visual_calculator + arabic_reading_calculator
  โ think tool

ุงูุฃุณุจูุน 5-6: ุงููุงุนุฏุฉ ุงููุนุฑููุฉ v1
  โ 50-100 ูุณุชูุฏ ุฃุณุงุณู (ุจุฑูุชููููุงุช ุฑุฆูุณูุฉ)
  โ Vector DB ุจุณูุท (Chroma ูุญูู)
  โ search_knowledge_base

ุงูุฃุณุจูุน 7-8: ุงูุชูุงูู ูุงูุงุฎุชุจุงุฑ
  โ Prompt Chaining (ุฃูู 4 chains)
  โ ุงุฎุชุจุงุฑ ุนูู 10 ุญุงูุงุช ูููุฐุฌูุฉ
  โ ุชุญุณูู System Prompt ุจูุงุกู ุนูู ุงููุชุงุฆุฌ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุงููุฑุญูุฉ 2: ุงูุชูุณุน (ุดูุฑ 3-4)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

  ๐ฒ Contextual Embeddings (ุชูููุฉ Anthropic)
  ๐ฒ Hybrid Search (BM25 + Semantic)
  ๐ฒ ุงูุฃุฏูุงุช ุงูุฌุฏูุฏุฉ: device_recommender, functional_assessment
  ๐ฒ ุจุฑูุชููููุงุช ุงูุชุดุฎูุต ุงููุงููุฉ (20+ ุญุงูุฉ)
  ๐ฒ ูุญุชูู ุชุฃููู ุงูุฃุทูุงู (CVI, LMA)
  ๐ฒ ูุญุชูู ุงูุชุฃููู ุงูุนุตุจู ุงูุจุตุฑู
  ๐ฒ Vision: ุชุญููู ุตูุฑ OCT ู Visual Fields
  ๐ฒ ุงูุชูุซูู: SOAP + ICF + Referral templates

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุงููุฑุญูุฉ 3: ุงูุชุญุณูู (ุดูุฑ 5-6)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

  ๐ฒ depression_screening + outcome_tracker
  ๐ฒ referral_generator
  ๐ฒ ูุธุงู ููุงุณ ุงููุชุงุฆุฌ ูุงูุฑุณูู ุงูุจูุงููุฉ
  ๐ฒ ุงููุฑุงุกุฉ ุงูุนุฑุจูุฉ: ุจุฑูุชููููุงุช ุฎุงุตุฉ + ุงููุฑุขู
  ๐ฒ Cross-Encoder Reranking ููุจุญุซ
  ๐ฒ Evaluation Framework: ุงุฎุชุจุงุฑ ุนูู 50+ ุญุงูุฉ
  ๐ฒ Few-shot examples ูู ุญุงูุงุช ุญููููุฉ (ูุฌูููุฉ ุงููููุฉ)
  ๐ฒ ูุฑุงุฌุนุฉ ูู ูุชุฎุตุตูู (3+ ูุฑุงุฌุนูู)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุงููุฑุญูุฉ 4: ุงูุฅูุชุงุฌ (ุดูุฑ 7+)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

  ๐ฒ HIPAA Compliance ุงููุงูู
  ๐ฒ ูุงุฌูุฉ ูุณุชุฎุฏู (Web + Mobile)
  ๐ฒ Audit Logging ุดุงูู
  ๐ฒ ุชูุงูู ูุน EMR/EHR (FHIR API)
  ๐ฒ ุชุญุฏูุซ ุชููุงุฆู ูู PubMed (RSS/Alerts)
  ๐ฒ Human-in-the-loop: ูุฑุงุฌุนุฉ ุทุจูุฉ ููุชูุตูุงุช ุงูุญุฑุฌุฉ
  ๐ฒ ูุฑุงุฌุนุฉ ุฏูุฑูุฉ ูููุงุนุฏุฉ ุงููุนุฑููุฉ (ูู 3 ุฃุดูุฑ)
  ๐ฒ ููุงุณ ุงูุฃุฏุงุก ุงููุณุชูุฑ
```

### 22.2 ุงุณุชุฑุงุชูุฌูุฉ ุชุญุฏูุซ ุงููุงุนุฏุฉ ุงููุนุฑููุฉ

```python
UPDATE_STRATEGY = {
    "pubmed_alerts": {
        "frequency": "weekly",
        "queries": [
            "low vision rehabilitation[MeSH] AND last 7 days[dp]",
            "vision rehabilitation AND clinical trial[pt] AND last 30 days[dp]",
            "cortical visual impairment AND intervention AND last 30 days[dp]",
            "assistive technology visual impairment AND review[pt]",
        ],
        "auto_index": True
    },
    "guideline_updates": {
        "frequency": "quarterly",
        "sources": ["WHO", "AAO", "RNIB", "ICO", "AOA"],
        "manual_review": True  # ูุฑุงุฌุนุฉ ุจุดุฑูุฉ ูุจู ุงูุฅุถุงูุฉ
    },
    "quality_audit": {
        "frequency": "monthly",
        "metrics": [
            "retrieval_precision",   # ูู RAG ูุฑุฌุน ูุญุชูู ุฐุง ุตูุฉุ
            "answer_accuracy",       # ูู ุงูุฅุฌุงุจุงุช ุตุญูุญุฉ ุณุฑูุฑูุงูุ
            "evidence_citation",     # ูู ุงููุฑุงุฌุน ุฏูููุฉุ
            "safety_compliance",     # ูู Disclaimers ููุฌูุฏุฉ ุฏุงุฆูุงูุ
            "user_satisfaction"      # ุชูููู ุงููุชุฎุตุตูู
        ]
    }
}
```

-----

## โก ููุฎุต ุชูููุฐู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                   โ
โ  ๐ฅ ูุธุงู ุงุณุชุดุงุฑู ุงูุชุฃููู ุงูุจุตุฑู ุงูุฐูู v2.0                      โ
โ                                                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ              ุงูุฃุณุงุณ ุงูุณุฑูุฑู (10 ูุตูู)                       โ โ
โ  โ                                                             โ โ
โ  โ  ุชูููู ูุธููู ุดุงูู โ ุจุฑูุชููููุงุช ุจุงูุชุดุฎูุต โ ุฃุฌูุฒุฉ ูุณุงุนุฏุฉ   โ โ
โ  โ  โ ุชุฏุฑูุจุงุช ุชุฃููููุฉ โ ุชุฃููู ุนุตุจู โ ุชุฃููู ุฃุทูุงู            โ โ
โ  โ  โ ุฏุนู ููุณู โ ุชููู ูููุงุฑุงุช ุญูุงุฉ โ ุงููุฑุงุกุฉ ุงูุนุฑุจูุฉ         โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                          โ ูุชุฑุงุจุท ูุน                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ              ุงูุจููุฉ ุงูุชูููุฉ (7 ูุตูู)                         โ โ
โ  โ                                                             โ โ
โ  โ  System Prompt โ Extended Thinking โ 12 ุฃุฏุงุฉ ูุชุฎุตุตุฉ       โ โ
โ  โ  โ PubMed API โ Vision โ RAG+Hybrid Search                โ โ
โ  โ  โ Prompt Chaining (6 ุฎุทูุงุช)                               โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                          โ ูููุชุฌ                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ              ุงูุชุดุบูู ูุงูุฌูุฏุฉ (5 ูุตูู)                       โ โ
โ  โ                                                             โ โ
โ  โ  ุชูุซูู ูููู (SOAP/ICF) โ ููุงุณ ูุชุงุฆุฌ โ ูุฑูู ูุชุนุฏุฏ         โ โ
โ  โ  โ ุฃูุงู ูุฎุตูุตูุฉ (HIPAA) โ ุฎุงุฑุทุฉ ุจูุงุก 4 ูุฑุงุญู             โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                   โ
โ  ๐ฏ ุงููุฏู: ุฃูุถู ูุณุงุนุฏ ุชุฃูููู ูููู                               โ
โ     ูุน ุจูุงุก ุงููุฑุงุฑ ุงูููุงุฆู ูููุชุฎุตุต ุงูุจุดุฑู                        โ
โ                                                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

-----

> **ุงูุฅุตุฏุงุฑ:** 2.0 โ ุฅุนุงุฏุฉ ุจูุงุก ุดุงููุฉ
> **ุงูุชุงุฑูุฎ:** ูุจุฑุงูุฑ 2026
> **ุนุฏุฏ ุงููุตูู:** 22 ูุตู (10 ุณุฑูุฑู + 7 ุชููู + 5 ุชุดุบููู)
> **ุฃูุนุฏ ุนุจุฑ:** Claude Opus 4.6
> **โ๏ธ ููุงุณุชุฎุฏุงู ุงูุชุนูููู ูุงููููู โ ููุณ ููุชุดุฎูุต ุงูุทุจู ุงููุจุงุดุฑ**
